{"version":3,"sources":["Styles/img/sprite.svg","Store/actions/authAction.js","Store/actions/actionTypes.js","axios.js","Store/actions/storiesAction.js","Store/actions/modalAction.js","User/Component/loginForm.js","User/Component/signupForm.js","User/Pages/login.js","Home/components/storyCard.js","Utilities/spinner.js","Home/components/storyModel.js","Utilities/backdrop.js","Utilities/modal.js","Hoc/withErrorHandler.js","Utilities/useHttp-error-handler.js","Home/pages/stories.js","Home/components/profileEditModel.js","Home/pages/profile.js","Router/publicRoute.js","Header/navigation.js","Router/privateRoute.js","Home/pages/notFoundPage.js","App.js","serviceWorker.js","Store/utility.js","Store/reducers/modalReducer.js","Store/reducers/authReducer.js","Store/reducers/storiesReducer.js","index.js"],"names":["module","exports","authSuccess","token","userId","userName","type","idToken","authFail","error","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","dispatch","setTimeout","auth","email","password","isSignup","fullName","authData","displayName","returnSecureToken","url","axios","post","then","response","expirationDate","Date","getTime","data","expiresIn","setItem","localId","userData","coverQuote","bio","location","urlUserData","catch","console","log","err","message","instance","create","baseURL","fetchingStory","get","res","stories","Object","keys","map","key","userStoryId","fetchingStoryFail","fetchUserProfile","queryParams","userStory","userStoryError","fetchingUserStoryFail","userDataId","userDataError","fetchingUserDataFail","postingFailed","connect","state","login","form","actions","props","useState","setEmail","setPassword","className","onSubmit","event","preventDefault","placeholder","value","onChange","target","onClick","loginToogle","signup","setFullName","confirmPassword","setConfirmPassword","errorMessage","setErrorMessage","useEffect","trim","fullname","confirmpassword","Login","isLogin","setIslogin","isLoginHnandler","loginPage","storyCard","postEditor","card","title","href","sprite","body","profileViewer","spinner","loading","modal","show","postStory","story","addedPost","name","deletePost","storyId","delete","editPost","patch","updatedPost","updatedStory","closeModal","privacy","setStory","ValidationMessage","setValidationMessage","inputChangeHandler","e","identifier","checkboxHandler","checked","postStoryHandler","valid","validation","deletePostHandler","deletePostButton","style","visibility","checkBoxButton","postButton","opacity","transition","minRows","maxRows","backdrop","clicked","Fragment","modalClosed","transform","children","withErrorHandler","WrappedComponent","httpClient","setError","reqInterceptor","interceptors","request","use","req","resInterceptor","eject","useHttpErrorHandler","clearError","storiesArray","storyModalReset","fetchStories","storyModalOpen","storyModal","setStoryModal","storyCards","setStories","publicStories","filter","i","uid","history","push","length","profileEditModel","cancel","save","loggedInUserId","loadingUserStory","loadingUserData","errorUserStory","errorUserData","editProfile","useProfile","userProfile","updateProfile","updatedProfile","coverQuotePrev","bioPrev","locationPrev","coverQuoteDisplay","bioDisplay","locationDisplay","profileDetails","setProfileDetails","handleEditFormDisplay","toEdit","toEditDisplay","cancelEditHandler","toCancel","toCancelDisplay","toCancelPrev","saveEditHandler","toSave","toSaveDisplay","viewProfileHandler","match","params","isAutheticated","Component","component","rest","to","notFoundPage","isAuthenticated","onTryAutoSignup","getItem","routes","path","exact","Stories","Profile","NotFoundPage","Boolean","window","hostname","updateObject","oldObject","updatedProperties","intialState","postStart","action","postSucced","postFailed","modalClose","modalOpen","reducer","authStart","authLogout","authRedirectPath","fetchingStart","fetchingSuccess","fetchingFailed","fetchUserDataSuccess","fetchUserStorySuccess","fetchUserDataFail","fetchUserStoryFail","fetchUserDataStart","fetchUserStoryStart","addedStory","concat","deletedStory","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","authReducer","modalReducer","storiesReducer","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"kGAAAA,EAAOC,QAAU,IAA0B,oC,2MCU9BC,EAAc,SAACC,EAAOC,EAAQC,GACzC,MAAO,CACLC,KCXwB,eDYxBC,QAASJ,EACTC,OAAQA,EACRC,SAAUA,IAIDG,EAAW,SAACC,GACvB,MAAO,CACLH,KCnBqB,YDoBrBG,MAAOA,IAIEC,EAAS,WAKpB,OAJAC,aAAaC,WAAW,SACxBD,aAAaC,WAAW,kBACxBD,aAAaC,WAAW,UACxBD,aAAaC,WAAW,YACjB,CACLN,KC7BuB,gBDiCdO,EAAmB,SAACC,GAC/B,OAAO,SAACC,GACNC,YAAW,WACTD,EAASL,OACS,IAAjBI,KAIMG,EAAO,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAChD,OAAO,SAACN,GACNA,EAzCK,CACLT,KCNsB,eD+CtB,IAAMgB,EAAW,CACfC,YAAaF,EACbH,MAAOA,EACPC,SAAUA,EACVK,mBAAmB,GAIjBC,EACF,wGACGL,IACHK,EACE,qHAEJC,IACGC,KAAKF,EAAKH,GACVM,MAAK,SAACC,GACL,IAAMC,EAAiB,IAAIC,MACzB,IAAIA,MAAOC,UAAsC,IAA1BH,EAASI,KAAKC,WASvC,GAPAvB,aAAawB,QAAQ,QAASN,EAASI,KAAK1B,SAC5CI,aAAawB,QAAQ,iBAAkBL,GACvCnB,aAAawB,QAAQ,SAAUN,EAASI,KAAKG,SAC7CzB,aAAawB,QAAQ,WAAYN,EAASI,KAAKV,aAC/CR,EAASb,EAAY2B,EAASI,KAAK1B,QAASsB,EAASI,KAAKG,UAC1DrB,EAASF,EAAiBgB,EAASI,KAAKC,YAEpCd,EAAU,CACZ,IAAMiB,EAAW,CACfhB,SAAUA,EACViB,WAAY,6BACZC,IAAK,uBACLC,SAAU,sBACVpC,OAAQyB,EAASI,KAAKG,SAExBV,IACGC,KAAKc,0DAAyBZ,EAASI,KAAK1B,QAAS8B,GACrDT,MAAK,SAACC,OAGNa,OAAM,SAACjC,GACNkC,QAAQC,IAAInC,UAInBiC,OAAM,SAACG,GACDA,EAAIhB,SACTd,EAASP,EAASqC,EAAIhB,SAASI,KAAKxB,MAAMqC,UAE1C/B,EAASP,EAASqC,EAAIC,e,OE1FfC,EAJCrB,IAAMsB,OAAO,CACzBC,QAAQ,4CCwBCC,EAAgB,SAAC/C,GAC5B,OAAO,SAACY,GACNA,EAzBK,CACLT,KFC8B,yBEwB9BoB,EACGyB,IAAI,sBAAwBhD,GAC5ByB,MAAK,SAACwB,GAvBuB,IAACC,EAwB7BtC,GAxB6BsC,EAwBCD,EAAInB,KAnBjC,CACL3B,KFPgC,yBEQhC+C,QANiBC,OAAOC,KAAKF,GAASG,KAAI,SAACC,GAC3C,OAAO,eAAKJ,EAAQI,GAApB,CAA0BC,YAAaD,aAwBpCf,OAAM,SAACG,GACN9B,EAhByB,SAAC8B,GAChC,MAAO,CACLvC,KFf6B,sBEgB7BG,MAAOoC,GAaMc,CAAkBd,SA6CtBe,EAAmB,SAACxD,EAAQD,GACvC,OAAO,SAACY,GACNA,EAvBK,CACLT,KF5CgC,2BEmEhCS,EAbK,CACLT,KFnD+B,0BEgE/B,IAAMuD,EACJ,SAAW1D,EAAQ,8BAAgCC,EAAS,IAC9DsB,EACGyB,IAAI,gBAAkBU,GACtBjC,MAAK,SAACC,GAhD0B,IAACwB,EAiDhCtC,GAjDgCsC,EAiDCxB,EAASI,KA7CzC,CACL3B,KF3BkC,2BE4BlCwD,UALqBR,OAAOC,KAAKF,GAASG,KAAI,SAACC,GAC/C,OAAO,eAAKJ,EAAQI,GAApB,CAA0BC,YAAaD,aAiDpCf,OAAM,SAACjC,GACNkC,QAAQC,IAAInC,GACZM,EA9B6B,SAACN,GACpC,MAAO,CACLH,KFjDgC,yBEkDhCyD,eAAgBtD,GA2BHuD,CAAsBvD,OAEnCiB,EACGyB,IAAI,cAAgBU,GACpBjC,MAAK,SAACC,GAhDyB,IAACwB,EAiD/BtC,GAjD+BsC,EAiDCxB,EAASI,KA7CxC,CACL3B,KFjCiC,0BEkCjC+B,SALkBiB,OAAOC,KAAKF,GAASG,KAAI,SAACC,GAC5C,OAAO,eAAKJ,EAAQI,GAApB,CAA0BQ,WAAYR,OAId,SA6CrBf,OAAM,SAACjC,GACNkC,QAAQC,IAAInC,GACZM,EA5B4B,SAACN,GACnC,MAAO,CACLH,KFtD8B,uBEuD9B4D,cAAezD,GAyBF0D,CAAqB1D,SCvFzB2D,EAAgB,SAAC3D,GAC5B,MAAO,CACLH,KHP4B,qBGQ5BG,MAAOA,IC0BX,IAYe4D,eAZO,SAACC,GACnB,MAAO,CACH7D,MAAM6D,EAAMrD,KAAKR,UAIA,SAACM,GACtB,MAAM,CACFwD,MAAM,SAACC,GAAD,OAAQzD,EAAS0D,EAAaD,QAI7BH,EApDf,SAAmBK,GAAQ,IAAD,EAEAC,mBAAS,IAFT,mBAEhBzD,EAFgB,KAEV0D,EAFU,OAGMD,mBAAS,IAHf,mBAGhBxD,EAHgB,KAGP0D,EAHO,KAoBtB,OACI,yBAAKC,UAAU,mBACX,wBAAIA,UAAU,mBAAd,cACA,uBAAGA,UAAU,aAAb,2BACA,uBAAGA,UAAU,SAASJ,EAAMjE,OAC5B,0BAAMqE,UAAU,OAAOC,SApBX,SAACC,GACjBA,EAAMC,iBACN,IAAIT,EAAK,CACLtD,MAAMA,EACNC,SAASA,EACTC,UAAS,GAEbsD,EAAMH,MAAMC,KAcJ,2BAAQM,UAAU,aAAaI,YAAY,SAAShE,MAAM,QAAQiE,MAAOjE,EAAOZ,KAAK,QAAQ8E,SAZtF,SAACJ,GAChBJ,EAASI,EAAMK,OAAOF,UAYd,2BAAOL,UAAU,aAAaI,YAAY,WAAW/D,SAAS,WAAWgE,MAAOhE,EAAUb,KAAK,WAAW8E,SAVhG,SAACJ,GACnBH,EAAYG,EAAMK,OAAOF,UAUjB,4BAAQL,UAAU,eAAlB,UAEJ,yBAAKA,UAAU,aAAf,wBAEI,8BACI,4BAAQA,UAAU,qBAAqBQ,QAASZ,EAAMa,aAAtD,iBCgCpB,IAYelB,eAZO,SAACC,GACnB,MAAO,CACH7D,MAAM6D,EAAMrD,KAAKR,UAIA,SAACM,GACtB,MAAM,CACFyE,OAAO,SAAChB,GAAD,OAAQzD,EAAS0D,EAAaD,QAI9BH,EA5Ef,SAAoBK,GAAQ,IAAD,EACKC,mBAAS,IADd,mBACjBtD,EADiB,KACRoE,EADQ,OAEDd,mBAAS,IAFR,mBAEjBzD,EAFiB,KAEX0D,EAFW,OAGKD,mBAAS,IAHd,mBAGjBxD,EAHiB,KAGR0D,EAHQ,OAImBF,mBAAS,IAJ5B,mBAIjBe,EAJiB,KAIDC,EAJC,OAKiBhB,mBAAS,MAL1B,mBAKhBiB,EALgB,KAKFC,EALE,KAsChBpF,EAAOiE,EAAPjE,MAIP,OAHAqF,qBAAU,WACND,EAAgBpF,KAClB,CAACA,IAEC,yBAAKqE,UAAU,mBACX,wBAAIA,UAAU,mBAAd,cACA,uBAAGA,UAAU,aAAb,2BACA,uBAAGA,UAAU,SAASc,GACtB,0BAAMd,UAAU,OAAOC,SAxCX,SAACC,GACjBA,EAAMC,iBACN,IAAIT,EAAK,CACLnD,SAASA,EACTH,MAAMA,EACNC,SAASA,EACTuE,gBAAgBA,EAChBtE,UAAS,GAEVD,IAAWuE,GAAqC,KAAlBrE,EAAS0E,OAC1CrB,EAAMc,OAAOhB,GAETqB,EADK1E,IAAWuE,EACA,yBAEA,4BA2BZ,2BAAQZ,UAAU,aAAaI,YAAY,YAAYc,SAAS,WAAWb,MAAO9D,EAAUf,KAAK,OAAO8E,SAvB9F,SAACJ,GACnBS,EAAYT,EAAMK,OAAOF,UAuBjB,2BAAQL,UAAU,aAAaI,YAAY,SAAShE,MAAM,QAAQiE,MAAOjE,EAAOZ,KAAK,QAAQ8E,SArBtF,SAACJ,GAChBJ,EAASI,EAAMK,OAAOF,UAqBd,2BAAOL,UAAU,aAAaI,YAAY,WAAW/D,SAAS,WAAWgE,MAAOhE,EAAUb,KAAK,WAAW8E,SAnBhG,SAACJ,GACnBH,EAAYG,EAAMK,OAAOF,UAmBjB,2BAAOL,UAAU,aAAaI,YAAY,mBAAmBe,gBAAgB,kBAAkBd,MAAOO,EAAiBpF,KAAK,WAAW8E,SAjBtH,SAACJ,GAC1BW,EAAmBX,EAAMK,OAAOF,UAiBxB,4BAAQL,UAAU,eAAlB,YAEJ,yBAAKA,UAAU,aAAf,gCAEI,8BACI,4BAAQA,UAAU,qBAAqBQ,QAASZ,EAAMa,aAAtD,eCvCLW,EAnBH,WAAK,IAAD,EAEYvB,oBAAS,GAFrB,mBAERwB,EAFQ,KAEAC,EAFA,KAGRC,EAAgB,WACpBD,GAAYD,IAGVG,EAAU,kBAAC,EAAD,CAAYf,YAAac,IAKvC,OAJGF,IACDG,EAAU,kBAAC,EAAD,CAAWf,YAAac,KAInC,yBAAKvB,UAAU,cACTwB,I,iBCWMC,MA3Bf,SAAmB7B,GACf,OACG,yBAAKI,UAAU,cACX,yBAAKA,UAAU,oBAAoBQ,QAASZ,EAAM8B,YAAa9B,EAAM+B,KAAKC,OACrEhC,EAAMtE,SAASsE,EAAM+B,KAAKrG,OACxB,oCACF,4BAAQ0E,UAAU,cAAcQ,QAASZ,EAAM8B,YAC3C,yBAAK1B,UAAU,gBACX,yBAAK6B,KAAMC,IAAS,sBAG5B,4BAAS9B,UAAU,cAAeQ,QAASZ,EAAM8B,YAC7C,yBAAK1B,UAAU,cACX,yBAAK6B,KAAMC,IAAS,2BAGvB,yBAAKtB,QAASZ,EAAM8B,aAC5B,yBAAK1B,UAAU,mBAAmBQ,QAASZ,EAAM8B,YAChD9B,EAAM+B,KAAKI,MAEV,4BAAQ/B,UAAU,4BAA4BQ,QAASZ,EAAMoC,eAC9D,yBAAKhC,UAAU,IAAf,MAAsBJ,EAAM+B,KAAKpG,SAAjC,WCTC0G,EAbC,kBACd,yBAAKjC,UAAU,cACb,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,gC,gBCgMJ,IAqBeT,eArBS,SAACC,GACvB,MAAO,CACL0C,QAAS1C,EAAM2C,MAAMD,QACrBvG,MAAO6D,EAAM2C,MAAMxG,MACnByG,KAAM5C,EAAM2C,MAAMC,KAClB/G,MAAOmE,EAAMrD,KAAKd,MAClBC,OAAQkE,EAAMrD,KAAKb,OACnBC,SAAUiE,EAAMrD,KAAKZ,aAGE,SAACU,GAC1B,MAAO,CACLoG,UAAW,SAACC,EAAOjH,GAAR,OAAkBY,ENtLL,SAACqG,EAAOjH,GAClC,OAAO,SAACY,GACNA,EA9BK,CACLT,KHI6B,wBG0B7BoB,EACGC,KAAK,sBAAwBxB,EAAOiH,GACpCxF,MAAK,SAACwB,GACH,IAAIiE,EAAU,eACPD,EADM,CAET1D,YAAYN,EAAInB,KAAKqF,OAG3BvG,EAjCC,CACLT,KHA+B,0BGiC3BS,ED2EgB,SAACsG,GACvB,MAAM,CACF/G,KF/FmB,cEgGnB+G,UAAUA,GC9EC5C,CAAmB4C,OAG7B3E,OAAM,SAACG,GACNF,QAAQC,IAAIC,GACZ9B,EAASqD,EAAcvB,QMqKW4B,CAAqB2C,EAAOjH,KAClEoH,WAAY,SAACC,EAASrH,GAAV,OACVY,EN9IqB,SAACyG,EAASrH,GACnC,OAAO,SAACY,GACNA,EAxEK,CACLT,KHI6B,wBGoE7BoB,EACG+F,OAAO,YAAcD,EAAU,cAAgBrH,GAC/CyB,MAAK,SAACwB,GACLrC,EAtEC,CACLT,KHA+B,0BGsE3BS,ED0BkB,SAACyG,GACzB,MAAM,CACFlH,KFlFqB,gBEmFrBkH,WC7BW/C,CAAqB+C,OAG/B9E,OAAM,SAACjC,GACNM,EAASqD,EAAc3D,QMmIhBgE,CAAoB+C,EAASrH,KACxCuH,SAAU,SAACN,EAAOI,EAASrH,GAAjB,OACRY,ENpKoB,SAACqG,EAAOI,EAASrH,GACzC,OAAO,SAACY,GACNA,EApDK,CACLT,KHI6B,wBGgD7BoB,EACGiG,MAAM,YAAcH,EAAU,cAAgBrH,EAAOiH,GACrDxF,MAAK,SAACwB,GACL,IAAIwE,EAAY,eACTR,EADQ,CAEX1D,YAAY8D,IAEdzG,EAtDD,CACLT,KHA+B,0BGsDzBS,EDgDgB,SAACqG,GACzB,MAAM,CACF9G,KF1FqB,gBE2FrBuH,aAAaT,GCnDA3C,CAAqBmD,OAGjClF,OAAM,SAACjC,GACJM,EAASqD,EAAc3D,QMqJlBgE,CAAmB2C,EAAOI,EAASrH,KAC9C2H,WAAY,kBAAM/G,ENrMb,CACLT,KHVqB,oBSkNV+D,EAxNf,SAAoBK,GAAQ,IAAD,EACCC,mBAAS,CACjC+B,MAAOhC,EAAM+B,KAAKC,MAClBG,KAAMnC,EAAM+B,KAAKI,KACjBkB,QAASrD,EAAM+B,KAAKsB,QACpBzH,KAAMoE,EAAMpE,OALW,mBAClB8G,EADkB,KACXY,EADW,OAOyBrD,mBAAS,MAPlC,mBAOlBsD,EAPkB,KAOCC,EAPD,KAQnBC,EAAqB,SAACC,EAAGC,GAC7BL,EAAS,eACJZ,EADG,eAELiB,EAAaD,EAAE/C,OAAOF,UAWrBmD,EAAkB,SAACF,GACvBJ,EAAS,eACJZ,EADG,CAENW,QAASK,EAAE/C,OAAOkD,YAGhBC,EAAmB,WACvB,IAAMrB,EAAY,CAChBT,MAAOU,EAAK,MACZP,KAAMO,EAAK,KACXW,QAASX,EAAK,QACdhH,OAAQsE,EAAMtE,OACdC,SAAUqE,EAAMrE,WAnBD,WACjB,IAAIoI,GAAQ,EAIZ,MAH8B,KAA1BrB,EAAK,MAAUrB,QAA0C,KAAzBqB,EAAK,KAASrB,SAChD0C,GAAQ,GAEHA,EAgBHC,GAQFR,EACE,uBAAGpD,UAAU,eAAb,mCARFoD,EAAqB,MACF,YAAfxD,EAAMpE,KACRoE,EAAMyC,UAAUA,EAAWzC,EAAMvE,OACT,aAAfuE,EAAMpE,MACfoE,EAAMgD,SAASP,EAAWzC,EAAM+B,KAAK/C,YAAagB,EAAMvE,SAQxDwI,EAAoB,WACxBjE,EAAM6C,WAAW7C,EAAM+B,KAAK/C,YAAagB,EAAMvE,QAE7CyI,EACFlE,EAAMtE,SAAWsE,EAAM+B,KAAKrG,OAAU,oCAAE,4BACtC0E,UAAU,cACVQ,QAASqD,GAF6B,WAKxB,oCAAE,4BAChB7D,UAAU,cACVQ,QAASqD,EACTE,MAAO,CAAEC,WAAY,WAHL,WAOhBC,EAAerE,EAAMtE,SAAWsE,EAAM+B,KAAKrG,OAC7C,oCACE,oDACA,2BACEE,KAAK,WACLiI,QAASnB,EAAK,QACdhC,SAAU,SAACgD,GAAD,OAAOE,EAAgBF,OAIrC,oCACE,2BAAOS,MAAO,CAAEC,WAAY,WAA5B,qBAGA,2BACED,MAAO,CAAEC,WAAY,UACrBxI,KAAK,WACLiI,QAASnB,EAAK,QACdhC,SAAU,SAACgD,GAAD,OAAOE,EAAgBF,OAInCY,EAAWtE,EAAMtE,SAAWsE,EAAM+B,KAAKrG,OACzC,oCACE,4BACE0E,UAAU,cACVQ,QAASkD,GAFX,SAQF,oCACE,4BACE1D,UAAU,cACV+D,MAAO,CAAEC,WAAY,UACrBxD,QAASkD,GAHX,SAkCJ,MAxBmB,YAAf9D,EAAMpE,OACRsI,EACE,4BAAQ9D,UAAU,cAClB+D,MAAO,CAAEC,WAAY,UACrBxD,QAASqD,GAFT,UAMFI,EAAgB,oCAChB,oDACA,2BACEzI,KAAK,WACLiI,QAASnB,EAAK,QACdhC,SAAU,SAACgD,GAAD,OAAOE,EAAgBF,OAGrCY,EAAW,4BACXlE,UAAU,cACVQ,QAASkD,GAFE,SAST,yBAAK1D,UAAU,OACZJ,EAAMwC,KACL,yBACEpC,UAAU,WACVQ,QAASZ,EAAMoD,WACfe,MAAO,CACLI,QAASvE,EAAMwC,KAAO,IAAM,IAC5BgC,WAAY,uBAGd,KACHxE,EAAMwC,KACL,yBAAKpC,UAAU,aACb,yBACEA,UAAU,aACV+D,MAAO,CAELI,QAASvE,EAAMwC,KAAO,IAAM,IAC5BgC,WAAY,sBAGbjB,EACCvD,EAAMsC,QA+BN,kBAAC,EAAD,MA9BA,oCACE,8BACE,2BACElC,UAAU,cACVI,YAAY,qBACZC,MAAOiC,EAAK,MACZhC,SAAU,SAACgD,GAAD,OAAOD,EAAmBC,EAAG,YAEzC,kBAAC,IAAD,CACEtD,UAAU,aACVI,YAAY,OACZC,MAAOiC,EAAK,KACZ+B,QAAS,EACTC,QAAS,GACThE,SAAU,SAACgD,GAAD,OAAOD,EAAmBC,EAAG,YAG3C,yBAAKtD,UAAU,gBACZiE,EACAH,EACAI,EACD,4BACElE,UAAU,aACVQ,QAAS,kBAAMZ,EAAMoD,eAFvB,aAaR,SChMKuB,EAJE,SAAC3E,GAAD,OACbA,EAAMwC,KAAO,yBAAKpC,UAAU,WAAWQ,QAASZ,EAAM4E,UAAkB,MCkB7DrC,EAjBD,SAAAvC,GACZ,OACE,kBAAC,IAAM6E,SAAP,KACE,kBAAC,EAAD,CAAUrC,KAAMxC,EAAMwC,KAAMoC,QAAS5E,EAAM8E,cAC3C,yBACE1E,UAAU,QACV+D,MAAO,CACLY,UAAW/E,EAAMwC,KAAO,gBAAkB,qBAC1C+B,QAASvE,EAAMwC,KAAO,IAAM,MAG7BxC,EAAMgF,YCKEC,EAfQ,SAACC,EAAkBlI,GACxC,OAAO,SAAAgD,GAAU,IAAD,ECJL,SAAAmF,GAAe,IAAD,EACClF,mBAAS,MADV,mBAClBlE,EADkB,KACXqJ,EADW,KAGnBC,EAAiBF,EAAWG,aAAaC,QAAQC,KAAI,SAAAC,GAEzD,OADAL,EAAS,MACFK,KAEHC,EAAiBP,EAAWG,aAAanI,SAASqI,KACtD,SAAA9G,GAAG,OAAIA,KACP,SAAAP,GACEiH,EAASjH,MAIbiD,qBAAU,WACR,OAAO,WACL+D,EAAWG,aAAaC,QAAQI,MAAMN,GACtCF,EAAWG,aAAanI,SAASwI,MAAMD,MAExC,CAACL,EAAgBK,EAAeP,IAMnC,MAAO,CAACpJ,EAJsB,WAC5BqJ,EAAS,QDjBmBQ,CAAoB5I,GADlC,mBACPjB,EADO,KACA8J,EADA,KAGd,OACE,oCACE,kBAAC,EAAD,CAAOrD,KAAMzG,EAAO+I,YAAae,GAC9B9J,EAAQA,EAAMqC,QAAU,MAE3B,kBAAC8G,EAAqBlF,ME4EhC,IAgBeL,eAhBS,SAACC,GACvB,MAAO,CACL0C,QAAS1C,EAAMjB,QAAQ2D,QACvBwD,aAAclG,EAAMjB,QAAQA,QAC5BlD,MAAOmE,EAAMrD,KAAKd,MAClBC,OAAQkE,EAAMrD,KAAKb,OACnBqK,gBAAiBnG,EAAM2C,MAAMC,SAGN,SAACnG,GAC1B,MAAO,CACL2J,aAAc,SAACvK,GAAD,OAAWY,EAAS0D,EAAsBtE,KACxDwK,eAAgB,kBAAM5J,EX1EjB,CACLT,KHdoB,mBc2FT+D,CAGbsF,GAnGF,SAAiBjF,GAAQoB,qBAAU,WAEjC,OADAnD,QAAQC,IAAI,WACL,WAGHD,QAAQC,IAAI,gBAEhB,IAPsB,MAQc+B,mBAAS,MARvB,mBAQfiG,EARe,KAQHC,EARG,KAUdH,EAAwBhG,EAAxBgG,aAAcvK,EAAUuE,EAAVvE,MAatB2F,qBAAU,WACR4E,EAAavK,KACZ,CAACuK,EAAcvK,IAzBI,IAiClB2K,EAjCkB,EA2BQnG,mBAAS,IA3BjB,mBA2BftB,EA3Be,KA2BN0H,EA3BM,KA4BdP,EAAiB9F,EAAjB8F,aAMR,GALA1E,qBAAU,WACRiF,EAAWP,KACV,CAACA,KAGC9F,EAAMsC,QAAS,CAElB,IAAMgE,EAAgB3H,EAAQ4H,QAAO,SAACxE,GAAD,OAA2B,IAAjBA,EAAKsB,WACpD+C,EAAaE,EAAcxH,KAAI,SAACiD,EAAMyE,GACpC,OACE,kBAAC,EAAD,CACEzH,IAAKgD,EAAKC,MAAQwE,EAClB1E,WAAY,kBAvBOlG,EAuBiB,WAvBX2B,EAuBuBwE,EAtBtDoE,EAAc,kBAAC,EAAD,CAAYvK,KAAMA,EAAMmG,KAAMxE,UAC5CyC,EAAMiG,iBAFkB,IAACrK,EAAM2B,GAwBzB6E,cAAe,kBA3BCqE,EA2BoB1E,EAAKrG,YA1B/CsE,EAAM0G,QAAQC,KAAK,YAAcF,GADZ,IAACA,GA4BhB1E,KAAMA,EACNrG,OAAQsE,EAAMtE,YAIS,IAAzB4K,EAAcM,SAChBR,EAAa,8CAIjB,OACE,oCACIpG,EAAMsC,QAiBN,yBAAKlC,UAAU,mBACb,kBAAC,EAAD,OAjBF,oCACGJ,EAAM+F,gBAAkBG,EAAa,KACtC,yBAAK9F,UAAU,eACb,wBAAIA,UAAU,mBAAd,6BACA,wBAAIA,UAAU,QAAd,4BACA,4BACEA,UAAU,sBACVQ,QApDe,WACzB,IAAM6F,EAAMzG,EAAMtE,OAClBsE,EAAM0G,QAAQC,KAAK,YAAcF,KAgDzB,iBAOF,yBAAKrG,UAAU,oBAAf,kBACA,yBAAKA,UAAU,WAAWgG,OA8BRpJ,IC/Fb6J,MAZf,SAA2B7G,GACvB,OACI,yBAAKI,UAAU,qBACZ,2BAAOA,UAAU,gBAAgBxE,KAAK,OAAO8E,SAAUV,EAAMU,SAAUD,MAAOT,EAAMS,QACpF,yBAAKL,UAAU,4BACX,4BAAQA,UAAU,uBAAuBQ,QAASZ,EAAM8G,QAAxD,UACA,4BAAQ1G,UAAU,uBAAuBQ,QAASZ,EAAM+G,MAAxD,WC2Nf,IAqBepH,eArBS,SAACC,GACvB,MAAM,CACJoH,eAAepH,EAAMrD,KAAKb,OAC1BD,MAAMmE,EAAMrD,KAAKd,MACjBkD,QAAQiB,EAAMjB,QAAQA,QACtBsI,iBAAiBrH,EAAMjB,QAAQsI,iBAC/BC,gBAAgBtH,EAAMjB,QAAQuI,gBAC9BvJ,SAASiC,EAAMjB,QAAQhB,SACvBwJ,eAAevH,EAAMjB,QAAQwI,eAC7BC,cAAcxH,EAAMjB,QAAQyI,cAC5BrB,gBAAgBnG,EAAM2C,MAAMC,SAGL,SAACnG,GAC1B,MAAM,CACJ6C,iBAAiB,SAACxD,EAAOD,GAAR,OAAgBY,EAAS0D,EAAyBrE,EAAOD,KAC1E4L,YAAY,SAAC3L,EAAOD,EAAM6L,GAAd,OAA2BjL,EbvJhB,SAACX,EAAQD,EAAO8L,GACzC,OAAO,SAAClL,GACNW,EACGiG,MAAM,SAAWvH,EAAS,cAAgBD,EAAO8L,GACjDrK,MAAK,SAACwB,GACL,IAAI8I,EAAc,eACXD,GAGLlL,ED0BF,CACFT,KFnGuB,kBEoGvB6L,eC5BoCD,OAGnCxJ,OAAM,SAACjC,GACNkC,QAAQC,IAAInC,Oa0IgCgE,CAAoBrE,EAAOD,EAAM6L,KACjFrB,eAAe,kBAAI5J,EbxNd,CACLT,KHdoB,mBgByOT+D,CAA6CsF,GA5O5D,SAAiBjF,GAAQ,IAAD,EACsBC,mBAAS,CACnDrC,WAAY,GACZC,IAAK,GACLC,SAAU,GACV4J,eAAgB,GAChBC,QAAS,GACTC,aAAc,GACdC,mBAAmB,EACnBC,YAAY,EACZC,iBAAiB,IAVG,mBACfC,EADe,KACCC,EADD,OAYchI,mBAAS,MAZvB,mBAYfiG,EAZe,KAYHC,EAZG,KAchB+B,EAAwB,SAACC,GAC7B,IAAMC,EAAgBD,EAAS,UAC/BF,EAAkB,eACbD,EADY,eAEdI,GAAgB,MAGf3E,EAAmB,SAACC,EAAEC,GACvBsE,EAAkB,eACXD,EADU,eAEZrE,EAAYD,EAAE/C,OAAOF,UAGzB4H,EAAkB,SAACC,GAAY,IAAD,EAC5BC,EAAgBD,EAAS,UACzBE,EAAaF,EAAS,OAC5BL,EAAkB,eACXD,GADU,mBAEZO,GAAiB,GAFL,cAGZD,EAAUN,EAAeQ,IAHb,MAMbC,EAAgB,SAACC,GACrB,IAAMC,EAAcD,EAAO,UAC3BT,EAAkB,eACbD,EADY,eAEdW,GAAe,KAEpB,IAAMpB,EAAY,CACjB3J,WAAYoK,EAAc,WACzBnK,IAAImK,EAAc,IAClBlK,SAASkK,EAAc,UAEzBhI,EAAMqH,YAAYrH,EAAMrC,SAAS4B,WAAWS,EAAMvE,MAAM8L,IAMlDqB,EAAqB,WACzB,IAAMnC,EAAIzG,EAAMgH,eAChBhH,EAAM0G,QAAQC,KAAK,YAAYF,IAY1BvH,EAAkEc,EAAlEd,iBAAiBzD,EAAiDuE,EAAjDvE,MAAMkC,EAA2CqC,EAA3CrC,SAASsJ,EAAkCjH,EAAlCiH,iBAAiBC,EAAiBlH,EAAjBkH,gBACpDxL,EAAOsE,EAAM6I,MAAMC,OAAOrC,IAC9BrF,qBAAU,WACRlC,EAAiBxD,EAAOD,KAEvB,CAACyD,EAAiBxD,EAAOD,IAE5B2F,qBAAU,WACJ8F,GAAoBD,GACrBgB,EAAkB,CACjBrK,WAAYD,EAASC,WACrBC,IAAKF,EAASE,IACdC,SAAUH,EAASG,SACnB4J,eAAgB/J,EAASC,WACzB+J,QAAShK,EAASE,IAClB+J,aAAcjK,EAASG,SACvB+J,mBAAmB,EACnBC,YAAY,EACZC,iBAAiB,MAGrB,CAACpK,EAASuJ,EAAgBD,IAE5B,IAAIb,EAAW,kBAAC,EAAD,MAkBf,OAjBIpG,EAAMkH,iBAAoBlH,EAAMiH,mBACnCb,EAAapG,EAAMrB,QAAQG,KAAI,SAACiD,EAAKyE,GACpC,OACE,kBAAC,EAAD,CACEzH,IAAKgD,EAAKC,MAAMwE,EAChB1E,WAAY,kBAvCSlG,EAuCa,WAvCR2B,EAuCmBwE,EArCjDoE,EAAc,kBAAC,EAAD,CAAYvK,KAAMA,EAAMmG,KAAMxE,UAC5CyC,EAAMiG,iBAHkB,IAACrK,EAAK2B,GAwC1B6E,cAAewG,EACf7G,KAAMA,EACNrG,OAAQsE,EAAMgH,oBAIM,IAAvBhH,EAAMrB,QAAQiI,SACfR,EAAW,+CAKX,oCACCpG,EAAM+F,gBAAgBG,EAAW,KAChClG,EAAMkH,iBAAmBlH,EAAMiH,iBACjC,yBAAK7G,UAAU,mBAAkB,kBAAC,EAAD,OACjC,oCACE,6BACE,yBAAKA,UAAU,eACX4H,EAAc,kBAcd,kBAAC,EAAD,CAAkBtH,SAAU,SAACgD,GAAD,OAAKD,EAAmBC,EAAE,eACtDjD,MAAOuH,EAAc,WACrBlB,OAAQ,kBAAIuB,EAAkB,eAC9BtB,KAAM,kBAAI0B,EAAgB,iBAhB1B,yBAAKrI,UAAU,UACb,2BAAI4H,EAAc,YAChBtM,IAASsE,EAAMgH,eAAiB,4BAChC5G,UAAU,gBACVQ,QAAS,kBAAMsH,EAAsB,gBAErC,yBAAK9H,UAAU,eACb,yBAAK6B,KAAMC,IAAS,mBAEb,OAUjB,yBAAK9B,UAAU,gBACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,aACb,yBAAK6B,KAAMC,IAAS,gBAEtB,4BAAQ9B,UAAU,aAAaQ,QA9EnB,WACpB3C,QAAQC,IAAI,WA8EF,yBAAKkC,UAAU,SACb,yBAAKA,UAAU,cACb,yBAAK6B,KAAMC,IAAS,iBAEtB,uBAAG9B,UAAU,WAAb,0BAKR,yBAAKA,UAAU,cACb,yBAAKA,UAAU,aACf,wBAAIA,UAAU,QAAQJ,EAAMrC,SAAShB,UACjCqL,EAAc,WAcd,kBAAC,EAAD,CAAkBtH,SAAU,SAACgD,GAAD,OAAKD,EAAmBC,EAAE,QAAQjD,MAAOuH,EAAc,IACnFlB,OAAQ,kBAAIuB,EAAkB,QAC9BtB,KAAM,kBAAI0B,EAAgB,UAf1B,yBAAKrI,UAAU,WACb,2BAAI4H,EAAc,KAChBtM,IAASsE,EAAMgH,eAAkB,4BACjC5G,UAAU,gBACVQ,QAAS,kBAAMsH,EAAsB,SAErC,yBAAK9H,UAAU,qBACb,yBAAK6B,KAAMC,IAAS,mBAEb,MAQb8F,EAAc,gBAcd,kBAAC,EAAD,CAAkBtH,SAAU,SAACgD,GAAD,OAAKD,EAAmBC,EAAE,aAAajD,MAAOuH,EAAc,SACvFlB,OAAQ,kBAAIuB,EAAkB,aAC9BtB,KAAM,kBAAI0B,EAAgB,eAf3B,yBAAKrI,UAAU,SACb,2BAAI4H,EAAc,UAChBtM,IAASsE,EAAMgH,eAAiB,4BAChC5G,UAAU,gBACVQ,QAAS,kBAAMsH,EAAsB,cAErC,yBAAK9H,UAAU,qBACb,yBAAK6B,KAAMC,IAAS,mBAEb,SAWrB,yBAAK9B,UAAU,WACb1E,IAASsE,EAAMgH,eAAiB,yBAAK5G,UAAU,WAAWQ,QAjJzC,WACrBuF,EAAc,kBAAC,EAAD,CAAYvK,KAAK,UAAUmG,KAAM,CAACC,MAAM,GAAGG,KAAK,GAAGkB,SAAQ,MACzErD,EAAMiG,mBAgJA,2BACErK,KAAK,OACL4E,YAAY,iBACZJ,UAAU,eAEZ,yBAAKA,UAAU,yBACb,yBAAK6B,KAAMC,IAAS,mBAEhB,KAER,yBAAK9B,UAAU,oBAAf,gBACA,yBAAKA,UAAU,WACZgG,QA6B0EpJ,I,QCnOtE2C,eANS,SAACC,GACvB,MAAO,CACLmJ,eAAoC,MAApBnJ,EAAMrD,KAAKd,SAIhBkE,EAjBM,SAAC,GAAD,IAAGoJ,EAAH,EAAGA,eAAyBC,EAA5B,EAAkBC,UAAuBC,EAAzC,qDACnB,6BACE,kBAAC,IAAD,iBACMA,EADN,CAEED,UAAW,SAAAjJ,GAAK,OACd+I,EAAiB,kBAAC,IAAD,CAAUI,GAAG,UAAa,kBAACH,EAAchJ,WCalE,IAMeL,cAAQ,MANE,SAACtD,GACtB,MAAO,CACHL,OAAO,kBAAIK,EAAS0D,SAIbJ,EAvBf,SAAoBK,GAShB,OACI,yBAAKI,UAAU,cACX,4BAAQA,UAAU,wBAAwBQ,QAL5B,WAClBZ,EAAM0G,QAAQC,KAAK,WAIf,aACA,4BAAQvG,UAAU,6CAA6CQ,QAVnD,WACjBZ,EAAMhE,SACNgE,EAAM0G,QAAQC,KAAK,OAQd,cCaGhH,eANS,SAACC,GACvB,MAAO,CACLmJ,eAAoC,MAApBnJ,EAAMrD,KAAKd,SAIhBkE,EAxBa,SAAC,GAAD,IAAGoJ,EAAH,EAAGA,eAAyBC,EAA5B,EAAkBC,UAAwBC,EAA1C,qDAC1B,6BACE,kBAAC,IAAD,iBACMA,EADN,CAEED,UAAW,SAACjJ,GAAD,OACT+I,EACE,6BACE,kBAAC,EAAW/I,GACZ,kBAACgJ,EAAchJ,IAGjB,kBAAC,IAAD,CAAUmJ,GAAG,cCNRC,MATf,SAAsBpJ,GAClB,OACI,yBAAKI,UAAU,QACb,kDACA,4BAAQA,UAAU,iBAAiBQ,QAAS,kBAAIZ,EAAM0G,QAAQC,KAAK,WAAnE,oBC0BV,IAWehH,eAXS,SAACC,GACvB,MAAO,CACLyJ,gBAAsC,OAArBzJ,EAAMrD,KAAKd,UAGL,SAACY,GAC1B,MAAO,CACLiN,gBAAiB,kBAAMjN,GtBiElB,SAACA,GACN,IAAMZ,EAAQQ,aAAasN,QAAQ,SACnC,GAAK9N,EAEE,CACL,IAAM2B,EAAiB,IAAIC,KAAKpB,aAAasN,QAAQ,mBACrD,GAAInM,GAAkB,IAAIC,KACxBhB,EAASL,SACJ,CACL,IAAMN,EAASO,aAAasN,QAAQ,UAC9B5N,EAAWM,aAAasN,QAAQ,YACtClN,EAASb,EAAYC,EAAOC,EAAQC,IACpCU,EACEF,GACGiB,EAAeE,WAAY,IAAID,MAAOC,WAAa,YAX1DjB,EAASL,YsBhEA2D,EA/Bf,SAAaK,IAGTsJ,EAFmBtJ,EAAjBsJ,mBAINrL,QAAQC,IAAI8B,EAAMqJ,iBAEhB,IAAMG,EACJ,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAaC,KAAK,IAAIC,OAAK,EAACT,UAAWzH,IACvC,kBAAC,EAAD,CAAciI,KAAK,QAAQC,OAAK,EAACT,UAAWU,IAC5C,kBAAC,EAAD,CAAcF,KAAK,gBAAgBC,OAAK,EAACT,UAAWW,IACpD,kBAAC,EAAD,CAAcH,KAAK,aAAaC,OAAK,EAACT,UAAWU,IACjD,kBAAC,IAAD,CAAOV,UAAWY,KAItB,OAAO,6BAAML,MCjBKM,QACW,cAA7BC,OAAOjM,SAASkM,UAEe,UAA7BD,OAAOjM,SAASkM,UAEhBD,OAAOjM,SAASkM,SAASnB,MACvB,2DClBC,IAAMoB,EAAa,SAACC,EAAUC,GACjC,sBACOD,EADP,GAEOC,ICALC,EAAc,CAClB9H,SAAS,EACTvG,MAAO,KACPyG,MAAM,GAGF6H,EAAY,SAACzK,EAAO0K,GACxB,OAAOL,EAAarK,EAAO,CACzB0C,SAAS,EACTvG,MAAO,QAGLwO,EAAa,SAAC3K,EAAO0K,GACzB,OAAOL,EAAarK,EAAO,CACzB0C,SAAS,EACTE,MAAM,KAGJgI,EAAa,SAAC5K,EAAO0K,GACzB,OAAOL,EAAarK,EAAO,CACzB0C,SAAS,EACTvG,MAAOuO,EAAOvO,SAGZ0O,EAAa,SAAC7K,EAAO0K,GACzB,OAAOL,EAAarK,EAAO,CAAE4C,MAAM,KAE/BkI,EAAY,SAAC9K,EAAO0K,GACxB,OAAOL,EAAarK,EAAO,CAAE4C,MAAM,KAoBtBmI,GAjBC,WAAkC,IAAjC/K,EAAgC,uDAAxBwK,EAAaE,EAAW,uCAC/C,OAAQA,EAAO1O,MACb,IxB1B6B,sBwB2B3B,OAAOyO,EAAUzK,GACnB,IxB1B+B,wBwB2B7B,OAAO2K,EAAW3K,GACpB,IxB7B4B,qBwB8B1B,OAAO4K,EAAW5K,EAAO0K,GAC3B,IxB5BqB,cwB6BnB,OAAOG,EAAW7K,GACpB,IxB7BoB,awB8BlB,OAAO8K,EAAU9K,GACnB,QACE,OAAOA,IC5CPwK,GAAY,CACd3O,MAAM,KACNC,OAAO,KACPK,MAAM,KACNuG,SAAQ,EACR3G,SAAS,MAGPiP,GAAU,SAAChL,EAAM0K,GACnB,OAAOL,EAAarK,EAAM,CAAC7D,MAAM,KAAKuG,SAAQ,KAG5CxG,GAAS,SAAC8D,EAAM0K,GAClB,OAAOL,EAAarK,EAAM,CACtB7D,MAAMuO,EAAOvO,MACbuG,SAAQ,KAIV9G,GAAY,SAACoE,EAAM0K,GACrB,OAAOL,EAAarK,EAAM,CACtBnE,MAAM6O,EAAOzO,QACbH,OAAO4O,EAAO5O,OACdC,SAAS2O,EAAO3O,SAChBI,MAAM,KACNuG,SAAQ,KAIVuI,GAAW,SAACjL,EAAM0K,GACpB,OAAOL,EAAarK,EAAM,CACtBnE,MAAM,KACNC,OAAO,QAIToP,GAAiB,SAAClL,EAAM0K,GAC1B,OAAOL,EAAarK,EAAM,KAgBf+K,GAZD,WAA6B,IAA5B/K,EAA2B,uDAArBwK,GAAYE,EAAS,uCACtC,OAAOA,EAAO1O,MACV,IzB9CkB,ayB8CW,OAAOgP,GAAUhL,GAC9C,IzB9CoB,eyB8CU,OAAOpE,GAAYoE,EAAM0K,GACvD,IzB9CiB,YyB8CU,OAAOxO,GAAS8D,EAAM0K,GACjD,IzB9CmB,cyB8CU,OAAOO,GAAWjL,GAC/C,IzB9CwB,qByB8CY,OAAOkL,GAAiBlL,GAC5D,QACI,OAAOA,ICjDbwK,GAAc,CAClB9H,SAAS,EACTvG,MAAO,KACP4C,QAAS,GACThB,SAAU,KACVuJ,iBAAiB,EACjBD,kBAAkB,EAClBG,cAAe,KACfD,eAAgB,MAOZ4D,GAAgB,SAACnL,EAAO0K,GAC5B,OAAOL,EAAarK,EAAO,CACzB0C,SAAS,KAGP0I,GAAkB,SAACpL,EAAO0K,GAC9B,OAAOL,EAAarK,EAAO,CACzBjB,QAAS2L,EAAO3L,QAChB2D,SAAS,KAGP2I,GAAiB,SAACrL,EAAO0K,GAC7B,OAAOL,EAAarK,EAAO,CACzB0C,SAAS,EACTvG,MAAOuO,EAAOvO,SAGZmP,GAAuB,SAACtL,EAAO0K,GACnC,OAAOL,EAAarK,EAAO,CACzBsH,iBAAiB,EACjBvJ,SAAU2M,EAAO3M,YAGfwN,GAAwB,SAACvL,EAAO0K,GACpC,OAAOL,EAAarK,EAAO,CACzBqH,kBAAkB,EAClBtI,QAAS2L,EAAOlL,aAGdgM,GAAoB,SAACxL,EAAO0K,GAChC,OAAOL,EAAarK,EAAO,CACzBsH,iBAAiB,EACjBE,cAAekD,EAAO9K,iBAGpB6L,GAAqB,SAACzL,EAAO0K,GACjC,OAAOL,EAAarK,EAAO,CACzBqH,kBAAkB,EAClBE,eAAgBmD,EAAOjL,kBAGrBiM,GAAqB,SAAC1L,EAAO0K,GACjC,OAAOL,EAAarK,EAAO,CACzBsH,iBAAiB,KAGfqE,GAAsB,SAAC3L,EAAO0K,GAClC,OAAOL,EAAarK,EAAO,CACzBqH,kBAAkB,KAGhB9D,GAAe,SAACvD,EAAO0K,GAE3B,IAAM3L,EAAQiB,EAAMjB,QAAQG,KAAI,SAAC4D,GAC/B,OAAG4H,EAAOnH,aAAanE,cAAc0D,EAAM1D,YAClCsL,EAAOnH,aAEPT,KAGX,OAAOuH,EAAarK,EAAM,CAACjB,aAEvB6M,GAAa,SAAC5L,EAAO0K,GAEzB,IAAM3L,EAAQiB,EAAMjB,QAAQ8M,OAAOnB,EAAO3H,WAC1C,OAAOsH,EAAarK,EAAM,CAACjB,aAEvB+M,GAAe,SAAC9L,EAAO0K,GAE3B,IAAM3L,EAASiB,EAAMjB,QAAQ4H,QAAO,SAAC7D,GAAD,OAAUA,EAAM1D,cAAcsL,EAAOxH,WACzE,OAAOmH,EAAarK,EAAM,CAACjB,aAEvB8I,GAAiB,SAAC7H,EAAO0K,GAE7B,IAAM3M,EAAS,eACViC,EAAMjC,SADG,GAET2M,EAAO7C,gBAEZ,OAAOwC,EAAarK,EAAM,CAACjC,cAmCdgN,GAjCC,WAAkC,IAAjC/K,EAAgC,uDAAxBwK,GAAaE,EAAW,uCAC/C,OAAQA,EAAO1O,MACb,I1B9F8B,uB0B+F5B,OAAOmP,GAAcnL,GACvB,I1B9FgC,yB0B+F9B,OAAOoL,GAAgBpL,EAAO0K,GAChC,I1BjG6B,sB0BkG3B,OAAOW,GAAerL,EAAO0K,GAC/B,I1BpFiC,0B0BqF/B,OAAOY,GAAqBtL,EAAO0K,GACrC,I1BzFkC,2B0B0FhC,OAAOa,GAAsBvL,EAAO0K,GACtC,I1BzF+B,wB0B0F7B,OAAOgB,GAAmB1L,GAC5B,I1B/FgC,yB0BgG9B,OAAO2L,GAAoB3L,GAC7B,I1B3F8B,uB0B4F5B,OAAOwL,GAAkBxL,EAAO0K,GAClC,I1BlG+B,wB0BmG7B,OAAOe,GAAmBzL,EAAO0K,GACnC,I1BzFyB,kB0B0FvB,OAAO7C,GAAe7H,EAAO0K,GAC/B,I1B9FuB,gB0B+FrB,OAAOnH,GAAavD,EAAO0K,GAC7B,I1B9FuB,gB0B+FrB,OAAOoB,GAAa9L,EAAO0K,GAC7B,I1BjGqB,c0BkGnB,OAAOkB,GAAW5L,EAAO0K,GAC3B,QACE,OAAO1K,ICjHP+L,GAAmB5B,OAAO6B,sCAAwCC,IAElEC,GAAYC,YAAgB,CAC5BxP,KAAKyP,GACLzJ,MAAM0J,GACNtN,QAAQuN,KAGRC,GAAQC,YAAYN,GAAaH,GACrCU,YAAgBC,OAGZC,GACJ,kBAAC,IAAD,CAAUJ,MAAOA,IACb,kBAAC,IAAD,KACI,kBAAC,EAAD,QAKVK,IAASC,OACP,kBAAC,IAAMC,WAAP,KACGH,IAEHI,SAASC,eAAe,SL6FpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB7P,MAAK,SAAA8P,GACJA,EAAaC,gBAEdjP,OAAM,SAAAjC,GACLkC,QAAQlC,MAAMA,EAAMqC,c","file":"static/js/main.9dbfc417.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sprite.417b38a5.svg\";","import axios from \"axios\";\r\n\r\nimport * as actionTypes from \"./actionTypes\";\r\n\r\nexport const authStart = () => {\r\n  return {\r\n    type: actionTypes.AUTH_START,\r\n  };\r\n};\r\n\r\nexport const authSuccess = (token, userId, userName) => {\r\n  return {\r\n    type: actionTypes.AUTH_SUCCESS,\r\n    idToken: token,\r\n    userId: userId,\r\n    userName: userName,\r\n  };\r\n};\r\n\r\nexport const authFail = (error) => {\r\n  return {\r\n    type: actionTypes.AUTH_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"expirationDate\");\r\n  localStorage.removeItem(\"userId\");\r\n  localStorage.removeItem(\"userName\");\r\n  return {\r\n    type: actionTypes.AUTH_LOGOUT,\r\n  };\r\n};\r\n\r\nexport const checkAuthTimeout = (expirationTime) => {\r\n  return (dispatch) => {\r\n    setTimeout(() => {\r\n      dispatch(logout());\r\n    }, expirationTime * 1000);\r\n  };\r\n};\r\n\r\nexport const auth = ({ email, password, isSignup, fullName }) => {\r\n  return (dispatch) => {\r\n    dispatch(authStart());\r\n    const authData = {\r\n      displayName: fullName,\r\n      email: email,\r\n      password: password,\r\n      returnSecureToken: true,\r\n    };\r\n    const urlUserData = \"https://storyclub-734f8.firebaseio.com/users.json\";\r\n\r\n    let url =\r\n      \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBzOU2zSdEfJJ2fBMR3piZK9jH_q6g9nPQ\";\r\n    if (!isSignup) {\r\n      url =\r\n        \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBzOU2zSdEfJJ2fBMR3piZK9jH_q6g9nPQ\";\r\n    }\r\n    axios\r\n      .post(url, authData)\r\n      .then((response) => {\r\n        const expirationDate = new Date(\r\n          new Date().getTime() + response.data.expiresIn * 1000\r\n        );\r\n        localStorage.setItem(\"token\", response.data.idToken);\r\n        localStorage.setItem(\"expirationDate\", expirationDate);\r\n        localStorage.setItem(\"userId\", response.data.localId);\r\n        localStorage.setItem(\"userName\", response.data.displayName);\r\n        dispatch(authSuccess(response.data.idToken, response.data.localId));\r\n        dispatch(checkAuthTimeout(response.data.expiresIn));\r\n        // console.log(response.data)\r\n        if (isSignup) {\r\n          const userData = {\r\n            fullName: fullName,\r\n            coverQuote: \"cannot praise yourself ...\",\r\n            bio: \"Works at XYZ Company\",\r\n            location: \"Enter Your Location\",\r\n            userId: response.data.localId,\r\n          };\r\n          axios\r\n            .post(urlUserData + \"?auth=\" + response.data.idToken, userData)\r\n            .then((response) => {\r\n              // console.log(response.data, \"data saved Successfully\", userData);\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n            });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if(!!err.response){\r\n        dispatch(authFail(err.response.data.error.message));\r\n        }else{\r\n        dispatch(authFail(err.message));\r\n        }\r\n        // console.log(!!err.response,err.response.data.error)        \r\n      });\r\n  };\r\n};\r\n\r\nexport const authCheckState = () => {\r\n  return (dispatch) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      dispatch(logout());\r\n    } else {\r\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\r\n      if (expirationDate <= new Date()) {\r\n        dispatch(logout());\r\n      } else {\r\n        const userId = localStorage.getItem(\"userId\");\r\n        const userName = localStorage.getItem(\"userName\");\r\n        dispatch(authSuccess(token, userId, userName));\r\n        dispatch(\r\n          checkAuthTimeout(\r\n            (expirationDate.getTime() - new Date().getTime()) / 1000\r\n          )\r\n        );\r\n      }\r\n    }\r\n  };\r\n};\r\n","export const AUTH_START = 'AUTH_START';\r\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\r\nexport const AUTH_FAIL = 'AUTH_FAIL';\r\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\r\nexport const AUTH_REDIRECT_PATH='AUTH_REDIRECT_PATH';\r\n\r\nexport const FETCHING_STORY_START='FETCHING_STORY_START';\r\nexport const FETCHING_STORY_FAIL='FETCHING_STORY_FAIL';\r\nexport const FETCHING_STORY_SUCCESS='FETCHING_STORY_SUCCESS';\r\n\r\nexport const POSTING_STORY_START='POSTING_STORY_START';\r\nexport const POSTING_STORY_FAIL='POSTING_STORY_FAIL';\r\nexport const POSTING_STORY_SUCCESS='POSTING_STORY_SUCCESS';\r\n\r\nexport const MODAL_CLOSE='MODAL_CLOSE';\r\nexport const MODAL_OPEN='MODAL_OPEN';\r\n\r\nexport const FETCH_USER_STORY_START='FETCH_USER_STORY_START';\r\nexport const FETCH_USER_STORY_FAIL='FETCH_USER_STORY_FAIL';\r\nexport const FETCH_USER_STORY_SUCCESS='FETCH_USER_STORY_SUCCESS';\r\n\r\nexport const FETCH_USER_DATA_START='FETCH_USER_DATA_START';\r\nexport const FETCH_USER_DATA_SUCCESS='FETCH_USER_DATA_SUCCESS';\r\nexport const FETCH_USER_DATA_FAIL='FETCH_USER_DATA_FAIL';\r\n\r\n\r\nexport const UPDATED_STORY='UPDATED_STORY';\r\nexport const ADDED_STORY='ADDED_STORY';\r\nexport const DELETED_STORY='DELETED_STORY';\r\nexport const UPDATED_PROFILE='UPDATED_PROFILE';\r\n\r\n// export const DELETING_STORY_START='DELETING_STORY_START';\r\n// export const DELETING_STORY_FAIL='DELETING_STORY_FAIL';\r\n// export const DELETING_STORY_SUCCESS='DELETING_STORY_SUCCESS';\r\n\r\n// export const FETCHING_USER_PROFILE_START='FETCHING_USER_PROFILE_START';\r\n// export const FETCHING_USER_PROFILE_FAIL='FETCHING_USER_PROFILE_FAIL';\r\n// export const FETCHING_USER_PROFILE_SUCCESS='FETCHING_USER_PROFILE_SUCCESS';\r\n\r\n","import axios from 'axios';\r\n\r\nconst instance= axios.create({\r\n    baseURL:'https://storyclub-734f8.firebaseio.com/'\r\n})\r\n\r\nexport default instance;\r\n\r\n","import axios from \"../../axios\";\r\nimport * as actionTypes from \"../actions/actionTypes\";\r\n\r\nexport const fetchingStoryStart = () => {\r\n  return {\r\n    type: actionTypes.FETCHING_STORY_START,\r\n  };\r\n};\r\n\r\nexport const fetchingStorySuccess = (stories) => {\r\n  let storiesArray = Object.keys(stories).map((key) => {\r\n    return { ...stories[key], userStoryId: key };\r\n  });\r\n\r\n  return {\r\n    type: actionTypes.FETCHING_STORY_SUCCESS,\r\n    stories: storiesArray,\r\n  };\r\n};\r\n\r\nexport const fetchingStoryFail = (err) => {\r\n  return {\r\n    type: actionTypes.FETCHING_STORY_FAIL,\r\n    error: err,\r\n  };\r\n};\r\n\r\nexport const fetchingStory = (token) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchingStoryStart());\r\n    axios\r\n      .get(\"/stories.json?auth=\" + token)\r\n      .then((res) => {\r\n        dispatch(fetchingStorySuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(fetchingStoryFail(err));\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchingUserStorySucced = (stories) => {\r\n  let userStoriesArray = Object.keys(stories).map((key) => {\r\n    return { ...stories[key], userStoryId: key };\r\n  });\r\n  return {\r\n    type: actionTypes.FETCH_USER_STORY_SUCCESS,\r\n    userStory: userStoriesArray,\r\n  };\r\n};\r\nexport const fetchingUserDataSucced = (stories) => {\r\n  let userDataArray = Object.keys(stories).map((key) => {\r\n    return { ...stories[key], userDataId: key };\r\n  });\r\n  return {\r\n    type: actionTypes.FETCH_USER_DATA_SUCCESS,\r\n    userData: userDataArray[0],\r\n  };\r\n};\r\nexport const fetchingUserStoryStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_USER_STORY_START,\r\n  };\r\n};\r\nexport const fetchingUserStoryFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_USER_STORY_START,\r\n    userStoryError: error,\r\n  };\r\n};\r\nexport const fetchingUserDataStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_USER_DATA_START,\r\n  };\r\n};\r\nexport const fetchingUserDataFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_USER_DATA_FAIL,\r\n    userDataError: error,\r\n  };\r\n};\r\nexport const fetchUserProfile = (userId, token) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchingUserStoryStart());\r\n    dispatch(fetchingUserDataStart());\r\n    const queryParams =\r\n      \"?auth=\" + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"';\r\n    axios\r\n      .get(\"/stories.json\" + queryParams)\r\n      .then((response) => {\r\n        dispatch(fetchingUserStorySucced(response.data));\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        dispatch(fetchingUserStoryFail(error));\r\n      });\r\n    axios\r\n      .get(\"/users.json\" + queryParams)\r\n      .then((response) => {\r\n        dispatch(fetchingUserDataSucced(response.data));\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        dispatch(fetchingUserDataFail(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const deletedStory=(storyId)=>{\r\n  return{\r\n      type:actionTypes.DELETED_STORY,\r\n      storyId,\r\n  }\r\n}\r\nexport const updatedStory=(story)=>{\r\n  return{\r\n      type:actionTypes.UPDATED_STORY,\r\n      updatedStory:story,\r\n  }\r\n}\r\nexport const addedStory=(addedPost)=>{\r\n  return{\r\n      type:actionTypes.ADDED_STORY,\r\n      addedPost:addedPost,\r\n  }\r\n}\r\nexport const updatedProfile=(updatedProfile)=>{\r\n  return{\r\n      type:actionTypes.UPDATED_PROFILE,\r\n      updatedProfile,\r\n  }\r\n}\r\n","import axios from \"../../axios\";\r\nimport * as actionTypes from \"../actions/actionTypes\";\r\nimport * as actions from '../actions/index';\r\n\r\nexport const postingStart = () => {\r\n  return {\r\n    type: actionTypes.POSTING_STORY_START,\r\n  };\r\n};\r\n\r\nexport const postingSucceded = () => {\r\n  return {\r\n    type: actionTypes.POSTING_STORY_SUCCESS,\r\n  };\r\n};\r\n\r\nexport const postingFailed = (error) => {\r\n  return {\r\n    type: actionTypes.POSTING_STORY_FAIL,\r\n    error: error,\r\n  };\r\n};\r\nexport const modalClose = () => {\r\n  return {\r\n    type: actionTypes.MODAL_CLOSE,\r\n  };\r\n};\r\nexport const modalOpen = () => {\r\n  return {\r\n    type: actionTypes.MODAL_OPEN,\r\n  };\r\n};\r\n\r\nexport const postingStory = (story, token) => {\r\n  return (dispatch) => {\r\n    dispatch(postingStart());\r\n    axios\r\n      .post(\"/stories.json?auth=\" + token, story)\r\n      .then((res) => {\r\n          let addedPost={\r\n              ...story,\r\n              userStoryId:res.data.name,\r\n          }; \r\n        //   console.log(addedStory)\r\n        dispatch(postingSucceded());\r\n        dispatch(actions.addedStory(addedPost))\r\n        // console.log(res.data,'post')\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        dispatch(postingFailed(err));\r\n      });\r\n  };\r\n};\r\n\r\nexport const patchStory = (story, storyId, token) => {\r\n  return (dispatch) => {\r\n    dispatch(postingStart());\r\n    axios\r\n      .patch(\"/stories/\" + storyId + \".json?auth=\" + token, story)\r\n      .then((res) => {\r\n        let updatedPost={\r\n            ...story,\r\n            userStoryId:storyId,\r\n        }; \r\n          dispatch(postingSucceded())\r\n          dispatch(actions.updatedStory(updatedPost))\r\n        // console.log(updatedPost,\"patch\");\r\n      })\r\n      .catch((error) => {\r\n          dispatch(postingFailed(error))\r\n        // console.log(error);\r\n      });\r\n  };\r\n};\r\nexport const deleteStory = (storyId, token) => {\r\n  return (dispatch) => {\r\n    dispatch(postingStart());\r\n    axios\r\n      .delete(\"/stories/\" + storyId + \".json?auth=\" + token)\r\n      .then((res) => {\r\n        dispatch(postingSucceded())\r\n        dispatch(actions.deletedStory(storyId))\r\n        // console.log(res.data, \"deleted\");\r\n      })\r\n      .catch((error) => {\r\n        dispatch(postingFailed(error))       \r\n        // console.log(error, \"error\");\r\n      });\r\n  };\r\n};\r\n\r\nexport const editProfile = (userId, token, userProfile) => {\r\n  return (dispatch) => {\r\n    axios\r\n      .patch(\"users/\" + userId + \".json?auth=\" + token, userProfile)\r\n      .then((res) => {\r\n        let updateProfile={\r\n            ...userProfile,\r\n            // userId:userId,\r\n        }; \r\n          dispatch(actions.updatedProfile(updateProfile))\r\n        // console.log(userId,updateProfile,res.data,'updatedProfile');\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n","import React,{useState} from 'react'\r\nimport{connect} from 'react-redux';\r\n\r\nimport * as actions from '../../Store/actions/index';\r\n\r\nfunction LoginForm(props) {\r\n\r\n    const[email,setEmail]=useState('');\r\n    const[password,setPassword]=useState('');\r\n\r\n    const submitHandler=(event)=>{\r\n        event.preventDefault()\r\n        let form={\r\n            email:email,\r\n            password:password,\r\n            isSignup:false,\r\n        }\r\n        props.login(form);\r\n    }\r\n    const emailHandler=(event)=>{\r\n        setEmail(event.target.value);\r\n    }\r\n    const passwordHandler=(event)=>{\r\n        setPassword(event.target.value);\r\n    }\r\n    return (\r\n        <div className='box-layout__box'>\r\n            <h1 className='heading-1 title'>Story Club</h1>\r\n            <p className='heading-3'>Get Started - It's free</p>\r\n            <p className=\"error\">{props.error}</p>\r\n            <form className='form' onSubmit={submitHandler}>\r\n                <input  className='text-input' placeholder='E-mail' email='email' value={email} type='email' onChange={emailHandler} />\r\n                <input className='text-input' placeholder='Password' password='password' value={password} type='password' onChange={passwordHandler} />\r\n                <button className='btn-primary'>Login</button>\r\n            </form>\r\n            <div className=\"heading-3\">\r\n                Need an account? &nbsp;\r\n                <span>\r\n                    <button className=\"simple-text-button\" onClick={props.loginToogle}>sign up</button>\r\n                </span>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return {\r\n        error:state.auth.error,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return{\r\n        login:(form)=>dispatch(actions.auth(form)),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(LoginForm);\r\n","import React, { useState } from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport * as actions from '../../Store/actions/index';\r\nimport { useEffect } from 'react';\r\n\r\nfunction SignupForm(props) {\r\n    const[fullName,setFullName]=useState('');\r\n    const[email,setEmail]=useState('');\r\n    const[password,setPassword]=useState('');\r\n    const[confirmPassword,setConfirmPassword]=useState('');\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n    const submitHandler=(event)=>{\r\n        event.preventDefault()\r\n        let form={\r\n            fullName:fullName,\r\n            email:email,\r\n            password:password,\r\n            confirmPassword:confirmPassword,\r\n            isSignup:true,\r\n        };\r\n        if(password===confirmPassword && fullName.trim()!==''){\r\n        props.signup(form);\r\n        }else if(password!==confirmPassword){\r\n            setErrorMessage(\"Password doesn't match\")\r\n        }else{\r\n            setErrorMessage(\"Please enter your name\")\r\n        }\r\n        // console.log(form);\r\n    }\r\n    const fullNameHandler=(event)=>{\r\n        setFullName(event.target.value)\r\n    }\r\n    const emailHandler=(event)=>{\r\n        setEmail(event.target.value);\r\n    }\r\n    const passwordHandler=(event)=>{\r\n        setPassword(event.target.value);\r\n    }\r\n    const confirmPasswordHandler=(event)=>{\r\n        setConfirmPassword(event.target.value);\r\n    }\r\n\r\n    const {error}=props\r\n    useEffect(()=>{\r\n        setErrorMessage(error)\r\n    },[error])\r\n    return (\r\n        <div className='box-layout__box'>\r\n            <h1 className='heading-1 title'>Story Club</h1>\r\n            <p className='heading-3'>Get Started - It's free</p>\r\n            <p className=\"error\">{errorMessage}</p>\r\n            <form className='form' onSubmit={submitHandler}>\r\n                <input  className='text-input' placeholder='Full Name' fullname='fullName' value={fullName} type='text' onChange={fullNameHandler} />\r\n                <input  className='text-input' placeholder='E-mail' email='email' value={email} type='email' onChange={emailHandler} />\r\n                <input className='text-input' placeholder='Password' password='password' value={password} type='password' onChange={passwordHandler} />\r\n                <input className='text-input' placeholder='Confirm Password' confirmpassword='confirmPassword' value={confirmPassword} type='password' onChange={confirmPasswordHandler} />\r\n                <button className='btn-primary'>Sign Up</button>\r\n            </form>\r\n            <div className=\"heading-3\">\r\n                Already have an account? &nbsp;\r\n                <span>\r\n                    <button className=\"simple-text-button\" onClick={props.loginToogle}>Login</button>\r\n                </span>\r\n             </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return {\r\n        error:state.auth.error,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return{\r\n        signup:(form)=>dispatch(actions.auth(form)),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(SignupForm);\r\n","import React,{useState} from 'react';\r\n\r\nimport LoginForm from '../Component/loginForm';\r\nimport SignupForm from '../Component/signupForm';\r\n\r\nconst Login=()=>{\r\n\r\n  const[isLogin,setIslogin]=useState(false);\r\n  const isLoginHnandler=()=>{\r\n    setIslogin(!isLogin);\r\n  }\r\n  \r\n  let loginPage=<SignupForm loginToogle={isLoginHnandler} />\r\n  if(isLogin){\r\n    loginPage=<LoginForm loginToogle={isLoginHnandler}/>\r\n  }\r\n  \r\n  return(\r\n   <div className='box-layout'>\r\n        {loginPage}\r\n    </div>\r\n  );\r\n} \r\n\r\nexport default Login;","import React from 'react';\r\nimport sprite from '../../Styles/img/sprite.svg';\r\n\r\nfunction storyCard(props) {\r\n    return (\r\n       <div className=\"story-card\">\r\n           <div className=\"story-card__title\" onClick={props.postEditor}>{props.card.title}</div>\r\n              {(props.userId===props.card.userId)?(\r\n                  <>\r\n                <button className=\"icon-button\" onClick={props.postEditor}>\r\n                    <svg className='icon__delete'>\r\n                        <use href={sprite + '#icon-trash-can'}></use>\r\n                    </svg>\r\n                </button>\r\n                <button  className=\"icon-button\"  onClick={props.postEditor}>\r\n                    <svg className='icon__edit'>\r\n                        <use href={sprite + '#icon-document-edit'}></use>\r\n                    </svg>\r\n                </button>\r\n                </>):<div onClick={props.postEditor} />}\r\n             <div className=\"story-card__body\" onClick={props.postEditor}>\r\n             {props.card.body}\r\n             </div>\r\n               <button className=\"written-by story-card__by\" onClick={props.profileViewer}>\r\n              <div className=\"\">by-{props.card.userName}&nbsp;</div>\r\n              </button>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default storyCard\r\n","import React from \"react\";\r\n\r\nconst spinner = () => (\r\n  <div className=\"lds-roller\">\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n  </div>\r\n);\r\n\r\nexport default spinner;\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Textarea from 'react-textarea-autosize';\r\n\r\n\r\nimport * as actions from \"../../Store/actions/index\";\r\nimport Spinner from \"../../Utilities/spinner\";\r\n\r\nfunction StoryModal(props) {\r\n  const [story, setStory] = useState({\r\n    title: props.card.title,\r\n    body: props.card.body,\r\n    privacy: props.card.privacy,\r\n    type: props.type,\r\n  });\r\n  const [ValidationMessage, setValidationMessage] = useState(null);\r\n  const inputChangeHandler = (e, identifier) => {\r\n    setStory({\r\n      ...story,\r\n      [identifier]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const validation = () => {\r\n    let valid = true;\r\n    if (story[\"title\"].trim() === \"\" || story[\"body\"].trim() === \"\") {\r\n      valid = false;\r\n    }\r\n    return valid;\r\n  };\r\n  const checkboxHandler = (e) => {\r\n    setStory({\r\n      ...story,\r\n      privacy: e.target.checked,\r\n    });\r\n  };\r\n  const postStoryHandler = () => {\r\n    const postStory = {\r\n      title: story[\"title\"],\r\n      body: story[\"body\"],\r\n      privacy: story[\"privacy\"],\r\n      userId: props.userId,\r\n      userName: props.userName,\r\n    };\r\n    if (validation()) {\r\n      setValidationMessage(null);\r\n      if (props.type === \"newPost\") {\r\n        props.postStory(postStory, props.token);\r\n      } else if (props.type === \"editPost\") {\r\n        props.editPost(postStory, props.card.userStoryId, props.token);\r\n      }\r\n    } else {\r\n      setValidationMessage(\r\n        <p className=\"error-modal\">One or more fields are empty.</p>\r\n      );\r\n    }\r\n  };\r\n  const deletePostHandler = () => {\r\n    props.deletePost(props.card.userStoryId, props.token);\r\n  };\r\n  let deletePostButton = \r\n    props.userId === props.card.userId ? (<><button\r\n      className=\"delete-post\" \r\n      onClick={deletePostHandler}\r\n    >\r\n      delete\r\n    </button></>): (<><button\r\n      className=\"delete-post\" \r\n      onClick={deletePostHandler}\r\n      style={{ visibility: \"hidden\" }}\r\n    >\r\n      delete\r\n    </button></>)\r\n  let checkBoxButton=props.userId === props.card.userId ? (\r\n    <>\r\n      <label>Keep private &nbsp;</label>\r\n      <input\r\n        type=\"checkbox\"\r\n        checked={story[\"privacy\"]}\r\n        onChange={(e) => checkboxHandler(e)}\r\n      />\r\n    </>\r\n  ) : (\r\n    <>\r\n      <label style={{ visibility: \"hidden\" }}>\r\n        Keep private &nbsp;\r\n      </label>\r\n      <input\r\n        style={{ visibility: \"hidden\" }}\r\n        type=\"checkbox\"\r\n        checked={story[\"privacy\"]}\r\n        onChange={(e) => checkboxHandler(e)}\r\n      />\r\n    </>\r\n  ) \r\n  let postButton=props.userId === props.card.userId ? (\r\n    <>\r\n      <button\r\n        className=\"submit-post\"\r\n        onClick={postStoryHandler}\r\n      >\r\n        post\r\n      </button>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <button\r\n        className=\"submit-post\"\r\n        style={{ visibility: \"hidden\" }}\r\n        onClick={postStoryHandler}\r\n      >\r\n        post\r\n      </button>\r\n    </>\r\n  )\r\n  \r\n  if (props.type === \"newPost\") {\r\n    deletePostButton = (\r\n      <button className=\"delete-post\"\r\n      style={{ visibility: \"hidden\" }} \r\n      onClick={deletePostHandler}>\r\n        delete\r\n      </button>\r\n    );\r\n    checkBoxButton= <>\r\n    <label>Keep private &nbsp;</label>\r\n    <input\r\n      type=\"checkbox\"\r\n      checked={story[\"privacy\"]}\r\n      onChange={(e) => checkboxHandler(e)}\r\n    />\r\n  </>\r\n  postButton=<button\r\n  className=\"submit-post\"\r\n  onClick={postStoryHandler}\r\n>\r\n  post\r\n</button>\r\n  }\r\n  // console.log(props.card)\r\n  return (\r\n    <div className=\"box\">\r\n      {props.show ? (\r\n        <div\r\n          className=\"backdrop\"\r\n          onClick={props.closeModal}\r\n          style={{\r\n            opacity: props.show ? \"1\" : \"0\",\r\n            transition: \"opacity 1s linear\",\r\n          }}\r\n        ></div>\r\n      ) : null}\r\n      {props.show ? (\r\n        <div className=\"container\">\r\n          <div\r\n            className=\"storyModal\"\r\n            style={{\r\n              // transform: props.show ? \"translateY(0)\" : \"translateY(-100vh)\",\r\n              opacity: props.show ? \"1\" : \"0\",\r\n              transition: \"opacity 1s linear\",\r\n            }}\r\n          >\r\n            {ValidationMessage}\r\n            {!props.loading ? (\r\n              <>\r\n                <form>\r\n                  <input\r\n                    className=\"modal-title\"\r\n                    placeholder=\"Name of your Story\"\r\n                    value={story[\"title\"]}\r\n                    onChange={(e) => inputChangeHandler(e, \"title\")}\r\n                  ></input>\r\n                  <Textarea \r\n                    className=\"modal-body\"\r\n                    placeholder=\"text\"\r\n                    value={story[\"body\"]}\r\n                    minRows={5} \r\n                    maxRows={25}\r\n                    onChange={(e) => inputChangeHandler(e, \"body\")}\r\n                  ></Textarea>\r\n                </form>\r\n                <div className=\"modal-footer\">\r\n                  {checkBoxButton}\r\n                  {deletePostButton}\r\n                  {postButton}\r\n                  <button\r\n                    className=\"close-post\"\r\n                    onClick={() => props.closeModal()}\r\n                  >\r\n                    close\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <Spinner />\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.modal.loading,\r\n    error: state.modal.error,\r\n    show: state.modal.show,\r\n    token: state.auth.token,\r\n    userId: state.auth.userId,\r\n    userName: state.auth.userName,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    postStory: (story, token) => dispatch(actions.postingStory(story, token)),\r\n    deletePost: (storyId, token) =>\r\n      dispatch(actions.deleteStory(storyId, token)),\r\n    editPost: (story, storyId, token) =>\r\n      dispatch(actions.patchStory(story, storyId, token)),\r\n    closeModal: () => dispatch(actions.modalClose()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StoryModal);\r\n","import React from 'react';\r\n\r\nconst backdrop = (props) => (\r\n    props.show ? <div className='backdrop' onClick={props.clicked}></div> : null\r\n);\r\n\r\nexport default backdrop;","import React from 'react';\r\n\r\nimport Backdrop from './backdrop';\r\n\r\nconst modal = props => {\r\n  return (\r\n    <React.Fragment>\r\n      <Backdrop show={props.show} clicked={props.modalClosed} />\r\n      <div\r\n        className='modal'\r\n        style={{\r\n          transform: props.show ? 'translateY(0)' : 'translateY(-100vh)',\r\n          opacity: props.show ? '1' : '0'\r\n        }}\r\n      >\r\n        {props.children}\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default modal;\r\n  \r\n","import React from 'react';\r\n\r\nimport Modal from '../Utilities/modal';\r\nimport useHttpErrorHandler from '../Utilities/useHttp-error-handler';\r\n\r\nconst withErrorHandler = (WrappedComponent, axios) => {\r\n    return props => {\r\n      const [error, clearError] = useHttpErrorHandler(axios);\r\n  \r\n      return (\r\n        <>\r\n          <Modal show={error} modalClosed={clearError}>\r\n            {error ? error.message : null}\r\n          </Modal>\r\n          <WrappedComponent {...props} />\r\n        </>\r\n      );\r\n    };\r\n  };\r\n  \r\n  export default withErrorHandler;","import { useState, useEffect } from 'react';\r\n\r\nexport default httpClient => {\r\n    const [error, setError] = useState(null);\r\n\r\n    const reqInterceptor = httpClient.interceptors.request.use(req => {\r\n      setError(null);\r\n      return req;\r\n    });\r\n    const resInterceptor = httpClient.interceptors.response.use(\r\n      res => res,\r\n      err => {\r\n        setError(err);\r\n      }\r\n    );\r\n\r\n    useEffect(() => {\r\n      return () => {\r\n        httpClient.interceptors.request.eject(reqInterceptor);\r\n        httpClient.interceptors.response.eject(resInterceptor);\r\n      };\r\n    }, [reqInterceptor, resInterceptor,httpClient]);\r\n\r\n    const errorConfirmedHandler = () => {\r\n      setError(null);\r\n    };\r\n\r\n    return [error, errorConfirmedHandler];\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport StoryCard from \"../components/storyCard\";\r\nimport * as actions from \"../../Store/actions/index\";\r\nimport Spinner from \"../../Utilities/spinner\";\r\nimport StoryModal from \"../../Home/components/storyModel\";\r\nimport axios from \"../../axios\";\r\nimport withErrorHandler from \"../../Hoc/withErrorHandler\";\r\n\r\nfunction Stories(props) {useEffect(()=>{\r\n  console.log('mount s')\r\n  return () => {\r\n    //  axios.interceptors.request.eject(reqInterceptor);\r\n    //  axios.interceptors.response.eject(resInterceptor);\r\n      console.log('unmount s')\r\n    };\r\n},[])\r\n  const [storyModal, setStoryModal] = useState(null);\r\n\r\n  const { fetchStories, token } = props;\r\n  const viewProfileHandler = () => {\r\n    const uid = props.userId;\r\n    props.history.push(\"/profile/\" + uid);\r\n  };\r\n  const ProfileHandler = (uid) => {\r\n    props.history.push(\"/profile/\" + uid);\r\n  };\r\n  const postEditorHandler = (type, data) => {\r\n    setStoryModal(<StoryModal type={type} card={data} />);\r\n    props.storyModalOpen();\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchStories(token);\r\n  }, [fetchStories, token]);\r\n\r\n  const [stories, setStories] = useState([]);\r\n  const { storiesArray } = props;\r\n  useEffect(() => {\r\n    setStories(storiesArray);\r\n  }, [storiesArray]);\r\n\r\n  let storyCards;\r\n  if (!props.loading) {\r\n    // console.log(stories,updateStory,deleteStory)\r\n    const publicStories = stories.filter((card) => card.privacy === false);\r\n    storyCards = publicStories.map((card, i) => {\r\n      return (\r\n        <StoryCard\r\n          key={card.title + i}\r\n          postEditor={() => postEditorHandler(\"editPost\", card)}\r\n          profileViewer={() => ProfileHandler(card.userId)}\r\n          card={card}\r\n          userId={props.userId}\r\n        />\r\n      );\r\n    });\r\n    if (publicStories.length === 0) {\r\n      storyCards = <h1>No Post Found</h1>;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!props.loading ? (\r\n        <>\r\n          {props.storyModalReset ? storyModal : null}\r\n          <div className=\"introHeader\">\r\n            <h1 className=\"heading-1 intro\">Everone Has Story to Tell</h1>\r\n            <h3 className=\"line\">Show your story to world</h3>\r\n            <button\r\n              className=\"btn-primary pro-btn\"\r\n              onClick={viewProfileHandler}\r\n            >\r\n              Veiw Profile\r\n            </button>\r\n          </div>\r\n          <div className=\"container-header\">Public Stories</div>\r\n          <div className=\"stories\">{storyCards}</div>\r\n        </>\r\n      ) : (\r\n        <div className=\"stories-spinner\">\r\n          <Spinner />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.stories.loading,\r\n    storiesArray: state.stories.stories,\r\n    token: state.auth.token,\r\n    userId: state.auth.userId,\r\n    storyModalReset: state.modal.show,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchStories: (token) => dispatch(actions.fetchingStory(token)),\r\n    storyModalOpen: () => dispatch(actions.modalOpen()),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withErrorHandler(Stories, axios));\r\n","import React from 'react'\r\n\r\nfunction  profileEditModel(props) {\r\n    return (\r\n        <div className='profile-edit-form'>\r\n           <input className='profile-input' type=\"text\" onChange={props.onChange} value={props.value}/>\r\n           <div className='profile-input-button-box'>\r\n               <button className='profile-input-button' onClick={props.cancel}>Cancel</button>\r\n               <button className='profile-input-button' onClick={props.save}>Save</button>\r\n           </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default profileEditModel\r\n","import React, { useState,useEffect} from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport sprite from \"../../Styles/img/sprite.svg\";\r\nimport StoryCard from \"../../Home/components/storyCard\";\r\nimport ProfileEditModel from \"../../Home/components/profileEditModel\";\r\nimport Spinner from '../../Utilities/spinner';\r\nimport * as actions from '../../Store/actions/index';\r\nimport StoryModal from '../../Home/components/storyModel';\r\nimport axios from \"../../axios\";\r\nimport withErrorHandler from \"../../Hoc/withErrorHandler\";\r\n\r\nfunction Profile(props) { \r\n  const [profileDetails, setProfileDetails] = useState({\r\n    coverQuote: \"\",\r\n    bio: \"\",\r\n    location: \"\",\r\n    coverQuotePrev: \"\",\r\n    bioPrev: \"\",\r\n    locationPrev: \"\",\r\n    coverQuoteDisplay: false,\r\n    bioDisplay: false,\r\n    locationDisplay: false,\r\n  });\r\n  const [storyModal, setStoryModal] = useState(null)\r\n\r\n  const handleEditFormDisplay = (toEdit) => {\r\n    const toEditDisplay = toEdit + \"Display\";\r\n    setProfileDetails({\r\n      ...profileDetails,\r\n      [toEditDisplay]: true,\r\n    });\r\n  };\r\n  const inputChangeHandler=(e,identifier)=>{\r\n       setProfileDetails({\r\n           ...profileDetails,\r\n           [identifier]:e.target.value,\r\n       })\r\n  }\r\n  const cancelEditHandler=(toCancel)=>{\r\n    const toCancelDisplay=toCancel+'Display';\r\n    const toCancelPrev=toCancel+'Prev'\r\n    setProfileDetails({\r\n        ...profileDetails,\r\n        [toCancelDisplay]:false,\r\n        [toCancel]:profileDetails[toCancelPrev]\r\n    })\r\n  }\r\n  const saveEditHandler=(toSave)=>{\r\n    const toSaveDisplay=toSave+'Display';\r\n    setProfileDetails({\r\n      ...profileDetails,\r\n      [toSaveDisplay]:false,\r\n  })\r\n  const userProfile={\r\n   coverQuote: profileDetails['coverQuote'],\r\n    bio:profileDetails['bio'],\r\n    location:profileDetails['location']\r\n  }\r\n  props.editProfile(props.userData.userDataId,props.token,userProfile)\r\n  }\r\n  const newPostHandler = () => {\r\n    setStoryModal(<StoryModal type='newPost' card={{title:\"\",body:\"\",privacy:false}}/>)\r\n    props.storyModalOpen();\r\n  };\r\n  const viewProfileHandler = () => {\r\n    const uid=props.loggedInUserId;\r\n    props.history.push('/profile/'+uid)\r\n  };\r\n  const postEditorHandler = (type,data) => {\r\n    // console.log(data,'data')\r\n    setStoryModal(<StoryModal type={type} card={data}/>)\r\n    props.storyModalOpen();\r\n  };\r\n\r\n  const imageUploader = () => {\r\n    console.log(\"image\");\r\n  };\r\n  \r\n  const {fetchUserProfile,token,userData,loadingUserStory,loadingUserData}=props;\r\n  let userId=props.match.params.uid\r\n  useEffect(() => {\r\n    fetchUserProfile(userId,token);\r\n    \r\n  }, [fetchUserProfile,userId,token])\r\n  \r\n  useEffect(()=>{\r\n    if(!loadingUserData && !loadingUserStory){\r\n       setProfileDetails({\r\n        coverQuote: userData.coverQuote,\r\n        bio: userData.bio,\r\n        location: userData.location,\r\n        coverQuotePrev: userData.coverQuote,\r\n        bioPrev: userData.bio,\r\n        locationPrev: userData.location,\r\n        coverQuoteDisplay: false,\r\n        bioDisplay: false,\r\n        locationDisplay: false,\r\n       })\r\n      }\r\n  },[userData,loadingUserData,loadingUserStory])\r\n\r\n  let storyCards=<Spinner/>\r\n  if(!props.loadingUserData && !props.loadingUserStory){\r\n   storyCards = props.stories.map((card,i) => {\r\n    return (\r\n      <StoryCard\r\n        key={card.title+i}\r\n        postEditor={()=>postEditorHandler('editPost',card)}\r\n        profileViewer={viewProfileHandler}\r\n        card={card}\r\n        userId={props.loggedInUserId}\r\n      />\r\n    );\r\n  });\r\n  if(props.stories.length===0){\r\n    storyCards=<h1>No Post Found</h1>\r\n  }\r\n}\r\n\r\n  return (\r\n    <>\r\n    {props.storyModalReset?storyModal:null}\r\n    {(props.loadingUserData || props.loadingUserStory)?\r\n    <div className='stories-spinner'><Spinner/></div>:\r\n    <>\r\n      <div>\r\n        <div className=\"introHeader\">\r\n          {!profileDetails[\"coverQuoteDisplay\"] ? (\r\n            <div className=\"header\">\r\n              <p>{profileDetails['coverQuote']}</p>\r\n              {(userId===props.loggedInUserId)?(<button\r\n                className=\"header-button\"\r\n                onClick={() => handleEditFormDisplay(\"coverQuote\")}\r\n              >\r\n                <svg className=\"icon-pencil\">\r\n                  <use href={sprite + \"#icon-pencil\"}></use>\r\n                </svg>\r\n              </button>):null}\r\n              \r\n            </div>\r\n          ) : (\r\n            <ProfileEditModel onChange={(e)=>inputChangeHandler(e,'coverQuote')} \r\n            value={profileDetails['coverQuote']}\r\n            cancel={()=>cancelEditHandler('coverQuote')}\r\n            save={()=>saveEditHandler('coverQuote')}/>\r\n          )}\r\n        </div>\r\n        <div className=\"user-profile\">\r\n          <div className=\"user\">\r\n            <svg className=\"icon-user\">\r\n              <use href={sprite + \"#icon-user\"}></use>\r\n            </svg>\r\n            <button className=\"img-button\" onClick={imageUploader}>\r\n              <div className=\"image\">\r\n                <svg className=\"icon-image\">\r\n                  <use href={sprite + \"#icon-image\"}></use>\r\n                </svg>\r\n                <p className=\"caption\">Upload Profile pic</p>\r\n              </div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"sub-header\">\r\n          <div className=\"sub-items\">\r\n          <h2 className=\"name\">{props.userData.fullName}</h2>\r\n            {!profileDetails[\"bioDisplay\"] ? (\r\n              <div className=\"company\">\r\n                <p>{profileDetails['bio']}</p>\r\n                {(userId===props.loggedInUserId)?( <button\r\n                  className=\"pencil-button\"\r\n                  onClick={() => handleEditFormDisplay(\"bio\")}\r\n                >\r\n                  <svg className=\"icon-pencil__edit\">\r\n                    <use href={sprite + \"#icon-pencil\"}></use>\r\n                  </svg>\r\n                </button>):null}\r\n               \r\n              </div>\r\n            ) : (\r\n              <ProfileEditModel onChange={(e)=>inputChangeHandler(e,'bio')} value={profileDetails['bio']} \r\n              cancel={()=>cancelEditHandler('bio')}\r\n              save={()=>saveEditHandler('bio')}/>\r\n            )}\r\n            {!profileDetails[\"locationDisplay\"] ? (\r\n              <div className=\"place\">\r\n                <p>{profileDetails['location']}</p>\r\n                {(userId===props.loggedInUserId)?(<button\r\n                  className=\"pencil-button\"\r\n                  onClick={() => handleEditFormDisplay(\"location\")}\r\n                >\r\n                  <svg className=\"icon-pencil__edit\">\r\n                    <use href={sprite + \"#icon-pencil\"}></use>\r\n                  </svg>\r\n                </button>):null}\r\n                \r\n              </div>\r\n            ) : (\r\n              <ProfileEditModel onChange={(e)=>inputChangeHandler(e,'location')} value={profileDetails['location']}\r\n               cancel={()=>cancelEditHandler('location')}\r\n               save={()=>saveEditHandler('location')}/>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"profile\">\r\n      {(userId===props.loggedInUserId)?(<div className=\"new-post\" onClick={newPostHandler}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Post New Story\"\r\n            className=\"inputStyle\"\r\n          />\r\n          <svg className=\"pencil-new-post__edit\">\r\n            <use href={sprite + \"#icon-pencil\"}></use>\r\n          </svg>\r\n        </div>):null}\r\n        \r\n        <div className=\"container-header\">Recent Posts</div>\r\n        <div className=\"stories\">\r\n          {storyCards}\r\n        </div>\r\n      </div>\r\n      </>}\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return{\r\n    loggedInUserId:state.auth.userId,\r\n    token:state.auth.token,\r\n    stories:state.stories.stories,\r\n    loadingUserStory:state.stories.loadingUserStory,\r\n    loadingUserData:state.stories.loadingUserData,\r\n    userData:state.stories.userData,\r\n    errorUserStory:state.stories.errorUserStory,\r\n    errorUserData:state.stories.errorUserData,\r\n    storyModalReset:state.modal.show,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return{\r\n    fetchUserProfile:(userId,token)=>dispatch(actions.fetchUserProfile(userId,token)),\r\n    editProfile:(userId,token,useProfile)=>dispatch(actions.editProfile(userId,token,useProfile)),\r\n    storyModalOpen:()=>dispatch(actions.modalOpen())\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(Profile,axios));\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n const PublicRoute = ({ isAutheticated,component:Component,...rest }) => (\r\n  <div>\r\n    <Route\r\n      {...rest}\r\n      component={props=>\r\n        isAutheticated ? <Redirect to=\"/home\" /> : <Component {...props} />\r\n      }\r\n    />\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAutheticated: state.auth.token != null,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport * as actions from '../Store/actions/index';\r\n\r\nfunction Navigation(props) {\r\n\r\n    const logoutHandler=()=>{\r\n       props.logout();\r\n       props.history.push('/'); \r\n    }\r\n    const homePageHandler=()=>{\r\n        props.history.push('/home'); \r\n    }\r\n    return (\r\n        <div className='navigation'>\r\n            <button className=\"home-button heading-1\" onClick={homePageHandler}>Storyclub</button>\r\n            <button className=\"simple-text-button logout-button heading-3\" onClick={logoutHandler}>logout</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return {\r\n        logout:()=>dispatch(actions.logout())\r\n    }\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(Navigation);\r\n\r\n                            ","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport Header from \"../Header/navigation\";\r\n\r\nexport const PrivateRoute = ({ isAutheticated,component:Component ,...rest }) => (\r\n  <div>\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        isAutheticated ? (\r\n          <div>\r\n            <Header {...props}/>\r\n            <Component {...props} />\r\n          </div>\r\n        ) : (\r\n          <Redirect to=\"/\" />\r\n        )\r\n      }\r\n    />\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAutheticated: state.auth.token != null,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from 'react'\r\n\r\nfunction notFoundPage(props) {\r\n    return (\r\n        <div className='text'>\r\n          <b> 404-Page Not Found</b>\r\n          <button className='redirectButton' onClick={()=>props.history.push('/home')}>Go To Homepage</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default notFoundPage\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nimport Login from \"./User/Pages/login\";\r\nimport Stories from \"./Home/pages/stories\";\r\nimport Profile from \"./Home/pages/profile\";\r\nimport * as actions from \"./Store/actions/index\";\r\nimport PublicRoute from \"./Router/publicRoute\";\r\nimport PrivateRoute from \"./Router/privateRoute\";\r\nimport NotFoundPage from \"./Home/pages/notFoundPage\";\r\n\r\nfunction App(props) {\r\nconst{onTryAutoSignup}=props\r\n  // useLayoutEffect(() => {\r\n    onTryAutoSignup()\r\n  // }, [onTryAutoSignup])\r\nconsole.log(props.isAuthenticated)\r\n\r\n  const routes = (\r\n    <Switch>\r\n      <PublicRoute path=\"/\" exact component={Login} />\r\n      <PrivateRoute path=\"/home\" exact component={Stories} />\r\n      <PrivateRoute path=\"/profile/:uid\" exact component={Profile} />\r\n      <PrivateRoute path=\"/StoryClub\" exact component={Stories} />\r\n      <Route component={NotFoundPage} />\r\n    </Switch>\r\n  );\r\n\r\n  return <div>{routes}</div>;\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const updateObject=(oldObject,updatedProperties)=>{\r\n    return{\r\n        ...oldObject,\r\n        ...updatedProperties\r\n    };\r\n};","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../utility\";\r\n\r\nconst intialState = {\r\n  loading: false,\r\n  error: null,\r\n  show: false,\r\n};\r\n\r\nconst postStart = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: true,\r\n    error: null,\r\n  });\r\n};\r\nconst postSucced = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    show: false,\r\n  });\r\n};\r\nconst postFailed = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    error: action.error,\r\n  });\r\n};\r\nconst modalClose = (state, action) => {\r\n  return updateObject(state, { show: false });\r\n};\r\nconst modalOpen = (state, action) => {\r\n  return updateObject(state, { show: true });\r\n};\r\n\r\nconst reducer = (state = intialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.POSTING_STORY_START:\r\n      return postStart(state, action);\r\n    case actionTypes.POSTING_STORY_SUCCESS:\r\n      return postSucced(state, action);\r\n    case actionTypes.POSTING_STORY_FAIL:\r\n      return postFailed(state, action);\r\n    case actionTypes.MODAL_CLOSE:\r\n      return modalClose(state, action);\r\n    case actionTypes.MODAL_OPEN:\r\n      return modalOpen(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as actionTypes from '../actions/actionTypes';\r\nimport {updateObject} from '../utility';\r\n\r\nconst intialState={\r\n    token:null,\r\n    userId:null,\r\n    error:null,\r\n    loading:false,\r\n    userName:null,\r\n}\r\n\r\nconst authStart=(state,action)=>{\r\n    return updateObject(state,{error:null,loading:true})\r\n};\r\n\r\nconst authFail=(state,action)=>{\r\n    return updateObject(state,{\r\n        error:action.error,\r\n        loading:false\r\n    });\r\n};\r\n\r\nconst authSuccess=(state,action)=>{\r\n    return updateObject(state,{\r\n        token:action.idToken,\r\n        userId:action.userId,\r\n        userName:action.userName,\r\n        error:null,\r\n        loading:false,\r\n    });\r\n};\r\n\r\nconst authLogout=(state,action)=>{\r\n    return updateObject(state,{\r\n        token:null,\r\n        userId:null,\r\n    });\r\n};\r\n\r\nconst authRedirectPath=(state,action)=>{\r\n    return updateObject(state,{\r\n    })\r\n}\r\n\r\nconst reducer=(state=intialState,action)=>{\r\n    switch(action.type){\r\n        case actionTypes.AUTH_START: return authStart(state,action);\r\n        case actionTypes.AUTH_SUCCESS:return authSuccess(state,action);\r\n        case actionTypes.AUTH_FAIL:return authFail(state,action);\r\n        case actionTypes.AUTH_LOGOUT:return authLogout(state,action); \r\n        case actionTypes.AUTH_REDIRECT_PATH:return authRedirectPath(state,action);\r\n        default:\r\n            return state;      \r\n    };\r\n};\r\n\r\nexport default reducer;\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../utility\";\r\n\r\nconst intialState = {\r\n  loading: false,\r\n  error: null,\r\n  stories: [],\r\n  userData: null,\r\n  loadingUserData: true,\r\n  loadingUserStory: true,\r\n  errorUserData: null,\r\n  errorUserStory: null,\r\n  // updatedStory: null,\r\n  // deletedStoryId: null,\r\n  // updatedProfile: null,\r\n  // addedStory: null,\r\n};\r\n\r\nconst fetchingStart = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: true,\r\n  });\r\n};\r\nconst fetchingSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    stories: action.stories,\r\n    loading: false,\r\n  });\r\n};\r\nconst fetchingFailed = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    error: action.error,\r\n  });\r\n};\r\nconst fetchUserDataSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loadingUserData: false,\r\n    userData: action.userData,\r\n  });\r\n};\r\nconst fetchUserStorySuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loadingUserStory: false,\r\n    stories: action.userStory,\r\n  });\r\n};\r\nconst fetchUserDataFail = (state, action) => {\r\n  return updateObject(state, {\r\n    loadingUserData: false,\r\n    errorUserData: action.userDataError,\r\n  });\r\n};\r\nconst fetchUserStoryFail = (state, action) => {\r\n  return updateObject(state, {\r\n    loadingUserStory: false,\r\n    errorUserStory: action.userStoryError,\r\n  });\r\n};\r\nconst fetchUserDataStart = (state, action) => {\r\n  return updateObject(state, {\r\n    loadingUserData: true,\r\n  });\r\n};\r\nconst fetchUserStoryStart = (state, action) => {\r\n  return updateObject(state, {\r\n    loadingUserStory: true,\r\n  });\r\n};\r\nconst updatedStory = (state, action) => {\r\n  // return updateObject(state, { updatedStory: action.updatedStory });\r\n  const stories=state.stories.map((story)=>{\r\n    if(action.updatedStory.userStoryId===story.userStoryId){\r\n      return action.updatedStory\r\n    }else{\r\n      return story;\r\n    }\r\n  })\r\n  return updateObject(state,{stories})\r\n};\r\nconst addedStory = (state, action) => {\r\n  // return updateObject(state, { addedStory: action.addedPost });\r\n  const stories=state.stories.concat(action.addedPost)\r\n  return updateObject(state,{stories})\r\n};\r\nconst deletedStory = (state, action) => {\r\n  // return updateObject(state, { deletedStoryId: action.storyId });\r\n  const stories= state.stories.filter((story)=> story.userStoryId!==action.storyId)\r\n  return updateObject(state,{stories})\r\n};\r\nconst updatedProfile = (state, action) => {\r\n  // return updateObject(state, { updatedProfile: action.updatedProfile });\r\n  const userData={\r\n    ...state.userData,\r\n    ...action.updatedProfile,\r\n  }\r\n  return updateObject(state,{userData})\r\n};\r\nconst reducer = (state = intialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FETCHING_STORY_START:\r\n      return fetchingStart(state, action);\r\n    case actionTypes.FETCHING_STORY_SUCCESS:\r\n      return fetchingSuccess(state, action);\r\n    case actionTypes.FETCHING_STORY_FAIL:\r\n      return fetchingFailed(state, action);\r\n    case actionTypes.FETCH_USER_DATA_SUCCESS:\r\n      return fetchUserDataSuccess(state, action);\r\n    case actionTypes.FETCH_USER_STORY_SUCCESS:\r\n      return fetchUserStorySuccess(state, action);\r\n    case actionTypes.FETCH_USER_DATA_START:\r\n      return fetchUserDataStart(state, action);\r\n    case actionTypes.FETCH_USER_STORY_START:\r\n      return fetchUserStoryStart(state, action);\r\n    case actionTypes.FETCH_USER_DATA_FAIL:\r\n      return fetchUserDataFail(state, action);\r\n    case actionTypes.FETCH_USER_STORY_FAIL:\r\n      return fetchUserStoryFail(state, action);\r\n    case actionTypes.UPDATED_PROFILE:\r\n      return updatedProfile(state, action);\r\n    case actionTypes.UPDATED_STORY:\r\n      return updatedStory(state, action);\r\n    case actionTypes.DELETED_STORY:\r\n      return deletedStory(state, action);\r\n    case actionTypes.ADDED_STORY:\r\n      return addedStory(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport {Provider} from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\nimport {createStore,applyMiddleware,compose,combineReducers} from 'redux';\r\n\r\nimport './Styles/main.scss';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport modalReducer from '../src/Store/reducers/modalReducer';\r\nimport authReducer from '../src/Store/reducers/authReducer';\r\nimport storiesReducer from '../src/Store/reducers/storiesReducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst rootReducer=combineReducers({\r\n      auth:authReducer,\r\n      modal:modalReducer,\r\n      stories:storiesReducer,\r\n});\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(\r\n  applyMiddleware(thunk)\r\n));\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n      <BrowserRouter>\r\n          <App />\r\n      </BrowserRouter>\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    {app}\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}